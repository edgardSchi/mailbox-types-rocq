<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">MailboxTypes.Runtime</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab22"></a><h1 class="section">Operational Semantics of Pat</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="MailboxTypes.Environment.html#"><span class="id" title="library">Environment</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="MailboxTypes.Syntax.html#"><span class="id" title="library">Syntax</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.Util.html#"><span class="id" title="library">Util</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.TypingRules.html#"><span class="id" title="library">TypingRules</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.Substitution.html#"><span class="id" title="library">Substitution</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ListSet</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PeanoNat</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable All Variables</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h2 class="section">Runtime definitions</h2>

<div class="paragraph"> </div>

  This section is not yet finished and needs more work!

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runtime_def" class="idref" href="#runtime_def"><span class="id" title="section">runtime_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="runtime_def.M" class="idref" href="#runtime_def.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MailboxTypes.Message.html#IMessage"><span class="id" title="class">IMessage</span></a> <span class="id" title="var">Message</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="runtime_def.D" class="idref" href="#runtime_def.D"><span class="id" title="variable">D</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#IDefinitionName"><span class="id" title="class">IDefinitionName</span></a> <span class="id" title="var">DefinitionName</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Frame" class="idref" href="#Frame"><span class="id" title="definition">Frame</span></a> := (<a class="idref" href="MailboxTypes.Syntax.html#VarName"><span class="id" title="definition">VarName</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Stack" class="idref" href="#Stack"><span class="id" title="definition">Stack</span></a> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Frame"><span class="id" title="definition">Frame</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lift_Frame" class="idref" href="#lift_Frame"><span class="id" title="definition">lift_Frame</span></a> (<a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Frame"><span class="id" title="definition">Frame</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Runtime.html#f:5"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 1 0 <span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lift_Stack" class="idref" href="#lift_Stack"><span class="id" title="definition">lift_Stack</span></a> (<a id="s:7" class="idref" href="#s:7"><span class="id" title="binder">s</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Stack"><span class="id" title="definition">Stack</span></a>) := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MailboxTypes.Runtime.html#lift_Frame"><span class="id" title="definition">lift_Frame</span></a> <a class="idref" href="MailboxTypes.Runtime.html#s:7"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Configuration" class="idref" href="#Configuration"><span class="id" title="definition, inductive"><span id="Configuration_rect" class="id"><span id="Configuration_ind" class="id"><span id="Configuration_rec" class="id"><span id="Configuration_sind" class="id">Configuration</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="ConfConf" class="idref" href="#ConfConf"><span class="id" title="constructor">ConfConf</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Stack"><span class="id" title="definition">Stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="ConfMessage" class="idref" href="#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#VarName"><span class="id" title="definition">VarName</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#runtime_def.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="ConfParallel" class="idref" href="#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="ConfRestr" class="idref" href="#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration:8"><span class="id" title="inductive">Configuration</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="lower_conf" class="idref" href="#lower_conf"><span class="id" title="definition">lower_conf</span></a> (<a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#VarName"><span class="id" title="definition">VarName</span></a>) (<a id="c:11" class="idref" href="#c:11"><span class="id" title="binder">c</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a>) : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Runtime.html#c:11"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#lower"><span class="id" title="definition">lower</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#lower_Var"><span class="id" title="definition">lower_Var</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">m</span> (<a class="idref" href="MailboxTypes.Syntax.html#lower_Value"><span class="id" title="definition">lower_Value</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#lower_conf:12"><span class="id" title="definition">lower_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="var">c1</span>) (<a class="idref" href="MailboxTypes.Runtime.html#lower_conf:12"><span class="id" title="definition">lower_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="var">c2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#lower_conf:12"><span class="id" title="definition">lower_conf</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:10"><span class="id" title="variable">i</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:11"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="exchange_Stack" class="idref" href="#exchange_Stack"><span class="id" title="definition">exchange_Stack</span></a> (<a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#VarName"><span class="id" title="definition">VarName</span></a>) (<a id="s:15" class="idref" href="#s:15"><span class="id" title="binder">s</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Stack"><span class="id" title="definition">Stack</span></a>) : <a class="idref" href="MailboxTypes.Runtime.html#Stack"><span class="id" title="definition">Stack</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Runtime.html#s:15"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> =&gt; <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s'</span> =&gt; <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Syntax.html#exchange_Var"><span class="id" title="definition">exchange_Var</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:14"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Syntax.html#exchange"><span class="id" title="definition">exchange</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:14"><span class="id" title="variable">i</span></a> <span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#exchange_Stack:16"><span class="id" title="definition">exchange_Stack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:14"><span class="id" title="variable">i</span></a> <span class="id" title="var">s'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="exchange_conf" class="idref" href="#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> (<a id="i:18" class="idref" href="#i:18"><span class="id" title="binder">i</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#VarName"><span class="id" title="definition">VarName</span></a>) (<a id="c:19" class="idref" href="#c:19"><span class="id" title="binder">c</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a>) : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Runtime.html#c:19"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#exchange"><span class="id" title="definition">exchange</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="MailboxTypes.Runtime.html#exchange_Stack"><span class="id" title="definition">exchange_Stack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#exchange_Var"><span class="id" title="definition">exchange_Var</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">m</span> (<a class="idref" href="MailboxTypes.Syntax.html#exchange_Value"><span class="id" title="definition">exchange_Value</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf:20"><span class="id" title="definition">exchange_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">c1</span>) (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf:20"><span class="id" title="definition">exchange_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="var">c2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf:20"><span class="id" title="definition">exchange_conf</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:18"><span class="id" title="variable">i</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:19"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="FV_conf" class="idref" href="#FV_conf"><span class="id" title="definition">FV_conf</span></a> (<a id="c:22" class="idref" href="#c:22"><span class="id" title="binder">c</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a>) : <span class="id" title="definition">set</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Runtime.html#c:22"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#FV"><span class="id" title="definition">FV</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">set_union</span> <span class="id" title="lemma">Nat.eq_dec</span> <span class="id" title="notation">[</span><span class="id" title="var">x</span><span class="id" title="notation">]</span> (<a class="idref" href="MailboxTypes.Syntax.html#FV_val"><span class="id" title="definition">FV_val</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">set_union</span> <span class="id" title="lemma">Nat.eq_dec</span> (<a class="idref" href="MailboxTypes.Runtime.html#FV_conf:23"><span class="id" title="definition">FV_conf</span></a> <span class="id" title="var">c1</span>) (<a class="idref" href="MailboxTypes.Runtime.html#FV_conf:23"><span class="id" title="definition">FV_conf</span></a> <span class="id" title="var">c2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Syntax.html#downShift"><span class="id" title="definition">downShift</span></a> 1 (<span class="id" title="definition">set_remove</span> <span class="id" title="lemma">Nat.eq_dec</span> 0 (<a class="idref" href="MailboxTypes.Runtime.html#FV_conf:23"><span class="id" title="definition">FV_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:22"><span class="id" title="variable">c</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="StructCongr" class="idref" href="#StructCongr"><span class="id" title="definition, inductive"><span id="StructCongr_ind" class="id"><span id="StructCongr_sind" class="id">StructCongr</span></span></span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrParSym" class="idref" href="#CongrParSym"><span class="id" title="constructor">CongrParSym</span></a> : <span class="id" title="keyword">forall</span> <a id="c:27" class="idref" href="#c:27"><span class="id" title="binder">c</span></a> <a id="d:28" class="idref" href="#d:28"><span class="id" title="binder">d</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructCongr:25"><span class="id" title="inductive">StructCongr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:27"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:28"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:28"><span class="id" title="variable">d</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:27"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrAssoc" class="idref" href="#CongrAssoc"><span class="id" title="constructor">CongrAssoc</span></a> : <span class="id" title="keyword">forall</span> <a id="c:29" class="idref" href="#c:29"><span class="id" title="binder">c</span></a> <a id="d:30" class="idref" href="#d:30"><span class="id" title="binder">d</span></a> <a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructCongr:25"><span class="id" title="inductive">StructCongr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:29"><span class="id" title="variable">c</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:30"><span class="id" title="variable">d</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:31"><span class="id" title="variable">e</span></a>)) (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:29"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:30"><span class="id" title="variable">d</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#e:31"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrRestrComm" class="idref" href="#CongrRestrComm"><span class="id" title="constructor">CongrRestrComm</span></a> : <span class="id" title="keyword">forall</span> <a id="c:32" class="idref" href="#c:32"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructCongr:25"><span class="id" title="inductive">StructCongr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:32"><span class="id" title="variable">c</span></a>)) (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> 0 <a class="idref" href="MailboxTypes.Runtime.html#c:32"><span class="id" title="variable">c</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrRestrExt" class="idref" href="#CongrRestrExt"><span class="id" title="constructor">CongrRestrExt</span></a> : <span class="id" title="keyword">forall</span> <a id="c:33" class="idref" href="#c:33"><span class="id" title="binder">c</span></a> <a id="d:34" class="idref" href="#d:34"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="definition">In</span> 0 (<a class="idref" href="MailboxTypes.Runtime.html#FV_conf"><span class="id" title="definition">FV_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:34"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructCongr:25"><span class="id" title="inductive">StructCongr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:33"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:34"><span class="id" title="variable">d</span></a>)) (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:33"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#lower_conf"><span class="id" title="definition">lower_conf</span></a> 0 <a class="idref" href="MailboxTypes.Runtime.html#d:34"><span class="id" title="variable">d</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="RecTree" class="idref" href="#RecTree"><span class="id" title="definition, inductive"><span id="RecTree_rect" class="id"><span id="RecTree_ind" class="id"><span id="RecTree_rec" class="id"><span id="RecTree_sind" class="id">RecTree</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="zero" class="idref" href="#zero"><span class="id" title="constructor">zero</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="one" class="idref" href="#one"><span class="id" title="constructor">one</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="two" class="idref" href="#two"><span class="id" title="constructor">two</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RecTree:35"><span class="id" title="inductive">RecTree</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="StructEq" class="idref" href="#StructEq"><span class="id" title="definition, inductive"><span id="StructEq_ind" class="id"><span id="StructEq_sind" class="id">StructEq</span></span></span></a> : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RecTree"><span class="id" title="inductive">RecTree</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stop" class="idref" href="#stop"><span class="id" title="constructor">stop</span></a> : <span class="id" title="keyword">forall</span> <a id="c:39" class="idref" href="#c:39"><span class="id" title="binder">c</span></a> <a id="d:40" class="idref" href="#d:40"><span class="id" title="binder">d</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructCongr"><span class="id" title="inductive">StructCongr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:39"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:40"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:39"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:40"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Properties&nbsp;of&nbsp;equivalence&nbsp;relation&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrRefl" class="idref" href="#CongrRefl"><span class="id" title="constructor">CongrRefl</span></a> : <span class="id" title="keyword">forall</span> <a id="c:41" class="idref" href="#c:41"><span class="id" title="binder">c</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:41"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:41"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrSym" class="idref" href="#CongrSym"><span class="id" title="constructor">CongrSym</span></a> : <span class="id" title="keyword">forall</span> <a id="c:42" class="idref" href="#c:42"><span class="id" title="binder">c</span></a> <a id="d:43" class="idref" href="#d:43"><span class="id" title="binder">d</span></a> <a id="r:44" class="idref" href="#r:44"><span class="id" title="binder">r</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:42"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:44"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:43"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:43"><span class="id" title="variable">d</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:44"><span class="id" title="variable">r</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:42"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrTrans" class="idref" href="#CongrTrans"><span class="id" title="constructor">CongrTrans</span></a> : <span class="id" title="keyword">forall</span> <a id="c:45" class="idref" href="#c:45"><span class="id" title="binder">c</span></a> <a id="d:46" class="idref" href="#d:46"><span class="id" title="binder">d</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> <a id="r:48" class="idref" href="#r:48"><span class="id" title="binder">r</span></a> <a id="p:49" class="idref" href="#p:49"><span class="id" title="binder">p</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:45"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:48"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:46"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:46"><span class="id" title="variable">d</span></a> <a class="idref" href="MailboxTypes.Runtime.html#p:49"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:45"><span class="id" title="variable">c</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#two"><span class="id" title="constructor">two</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:48"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#p:49"><span class="id" title="variable">p</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#e:47"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Properties&nbsp;of&nbsp;congruence&nbsp;relation,&nbsp;i.e.&nbsp;congruence&nbsp;under&nbsp;a&nbsp;context&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrNu" class="idref" href="#CongrNu"><span class="id" title="constructor">CongrNu</span></a> : <span class="id" title="keyword">forall</span> <a id="c:50" class="idref" href="#c:50"><span class="id" title="binder">c</span></a> <a id="c':51" class="idref" href="#c':51"><span class="id" title="binder">c'</span></a> <a id="r:52" class="idref" href="#r:52"><span class="id" title="binder">r</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:50"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:52"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':51"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:50"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:52"><span class="id" title="variable">r</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':51"><span class="id" title="variable">c'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CongrPar" class="idref" href="#CongrPar"><span class="id" title="constructor">CongrPar</span></a> : <span class="id" title="keyword">forall</span> <a id="c:53" class="idref" href="#c:53"><span class="id" title="binder">c</span></a> <a id="c':54" class="idref" href="#c':54"><span class="id" title="binder">c'</span></a> <a id="d:55" class="idref" href="#d:55"><span class="id" title="binder">d</span></a> <a id="r:56" class="idref" href="#r:56"><span class="id" title="binder">r</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:53"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:56"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':54"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#StructEq:37"><span class="id" title="inductive">StructEq</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:53"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:55"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:56"><span class="id" title="variable">r</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':54"><span class="id" title="variable">c'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:55"><span class="id" title="variable">d</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Step" class="idref" href="#Step"><span class="id" title="definition, inductive"><span id="Step_ind" class="id"><span id="Step_sind" class="id">Step</span></span></span></a> (<a id="prog:57" class="idref" href="#prog:57"><span class="id" title="binder">prog</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Prog"><span class="id" title="record">Prog</span></a>) : <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepLet" class="idref" href="#stepLet"><span class="id" title="constructor">stepLet</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:60" class="idref" href="#t1:60"><span class="id" title="binder">t1</span></a> <a id="t2:61" class="idref" href="#t2:61"><span class="id" title="binder">t2</span></a> <a id="stack:62" class="idref" href="#stack:62"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t1:60"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t2:61"><span class="id" title="variable">t2</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:62"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t1:60"><span class="id" title="variable">t1</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t2:61"><span class="id" title="variable">t2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:62"><span class="id" title="variable">stack</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepReturn" class="idref" href="#stepReturn"><span class="id" title="constructor">stepReturn</span></a> : <span class="id" title="keyword">forall</span> (<a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="x:64" class="idref" href="#x:64"><span class="id" title="binder">x</span></a> <a id="t:65" class="idref" href="#t:65"><span class="id" title="binder">t</span></a> <a id="stack:66" class="idref" href="#stack:66"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:63"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Runtime.html#x:64"><span class="id" title="variable">x</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:65"><span class="id" title="variable">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:66"><span class="id" title="variable">stack</span></a>)) (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:64"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:65"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:66"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepApp" class="idref" href="#stepApp"><span class="id" title="constructor">stepApp</span></a> : <span class="id" title="keyword">forall</span> <a id="v:67" class="idref" href="#v:67"><span class="id" title="binder">v</span></a> <a id="stack:68" class="idref" href="#stack:68"><span class="id" title="binder">stack</span></a> <a id="definition:69" class="idref" href="#definition:69"><span class="id" title="binder">definition</span></a> <a id="bodyType:70" class="idref" href="#bodyType:70"><span class="id" title="binder">bodyType</span></a> <a id="argumentType:71" class="idref" href="#argumentType:71"><span class="id" title="binder">argumentType</span></a> <a id="t:72" class="idref" href="#t:72"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Syntax.html#definitions"><span class="id" title="projection">definitions</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#definition:69"><span class="id" title="variable">definition</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Syntax.html#FunDef"><span class="id" title="constructor">FunDef</span></a> <a class="idref" href="MailboxTypes.Runtime.html#definition:69"><span class="id" title="variable">definition</span></a> <a class="idref" href="MailboxTypes.Runtime.html#argumentType:71"><span class="id" title="variable">argumentType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#bodyType:70"><span class="id" title="variable">bodyType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:72"><span class="id" title="variable">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TApp"><span class="id" title="constructor">TApp</span></a> <a class="idref" href="MailboxTypes.Runtime.html#definition:69"><span class="id" title="variable">definition</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:67"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:68"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:67"><span class="id" title="variable">v</span></a> 0 <a class="idref" href="MailboxTypes.Runtime.html#t:72"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:68"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepNew" class="idref" href="#stepNew"><span class="id" title="constructor">stepNew</span></a> : <span class="id" title="keyword">forall</span> <a id="stack:73" class="idref" href="#stack:73"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:73"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> 0)) (<a class="idref" href="MailboxTypes.Runtime.html#lift_Stack"><span class="id" title="definition">lift_Stack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:73"><span class="id" title="variable">stack</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepSend" class="idref" href="#stepSend"><span class="id" title="constructor">stepSend</span></a> : <span class="id" title="keyword">forall</span> <a id="stack:74" class="idref" href="#stack:74"><span class="id" title="binder">stack</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="m:76" class="idref" href="#m:76"><span class="id" title="binder">m</span></a> <a id="v:77" class="idref" href="#v:77"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:75"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#m:76"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:77"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:74"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueUnit"><span class="id" title="constructor">ValueUnit</span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#stack:74"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:76"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:77"><span class="id" title="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepSpawn" class="idref" href="#stepSpawn"><span class="id" title="constructor">stepSpawn</span></a> : <span class="id" title="keyword">forall</span> <a id="stack:78" class="idref" href="#stack:78"><span class="id" title="binder">stack</span></a> <a id="t:79" class="idref" href="#t:79"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:79"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:78"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueUnit"><span class="id" title="constructor">ValueUnit</span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#stack:78"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:79"><span class="id" title="variable">t</span></a> <span class="id" title="notation">[]</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepFree" class="idref" href="#stepFree"><span class="id" title="constructor">stepFree</span></a> : <span class="id" title="keyword">forall</span> <a id="stack:80" class="idref" href="#stack:80"><span class="id" title="binder">stack</span></a> <a id="e:81" class="idref" href="#e:81"><span class="id" title="binder">e</span></a> <a id="guards:82" class="idref" href="#guards:82"><span class="id" title="binder">guards</span></a> <a id="t:83" class="idref" href="#t:83"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Exists</span> (<span class="id" title="keyword">fun</span> <a id="g:84" class="idref" href="#g:84"><span class="id" title="binder">g</span></a> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#g:84"><span class="id" title="variable">g</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#GFree"><span class="id" title="constructor">GFree</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:83"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#guards:82"><span class="id" title="variable">guards</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> 0) <a class="idref" href="MailboxTypes.Runtime.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.Runtime.html#guards:82"><span class="id" title="variable">guards</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:80"><span class="id" title="variable">stack</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:80"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepReceive" class="idref" href="#stepReceive"><span class="id" title="constructor">stepReceive</span></a> : <span class="id" title="keyword">forall</span> <a id="stack:85" class="idref" href="#stack:85"><span class="id" title="binder">stack</span></a> <a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a> <a id="guards:87" class="idref" href="#guards:87"><span class="id" title="binder">guards</span></a> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a id="m:89" class="idref" href="#m:89"><span class="id" title="binder">m</span></a> <a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Exists</span> (<span class="id" title="keyword">fun</span> <a id="g:92" class="idref" href="#g:92"><span class="id" title="binder">g</span></a> =&gt; <a class="idref" href="MailboxTypes.Runtime.html#g:92"><span class="id" title="variable">g</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#GReceive"><span class="id" title="constructor">GReceive</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:89"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:91"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#guards:87"><span class="id" title="variable">guards</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:88"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#e:86"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.Runtime.html#guards:87"><span class="id" title="variable">guards</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:85"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:89"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:90"><span class="id" title="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> ((<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:90"><span class="id" title="variable">v</span></a> 0) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:88"><span class="id" title="variable">x</span></a>) 0 <a class="idref" href="MailboxTypes.Runtime.html#t:91"><span class="id" title="variable">t</span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#stack:85"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepNu" class="idref" href="#stepNu"><span class="id" title="constructor">stepNu</span></a> : <span class="id" title="keyword">forall</span> <a id="c:93" class="idref" href="#c:93"><span class="id" title="binder">c</span></a> <a id="d:94" class="idref" href="#d:94"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:93"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:94"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:93"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:94"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepPar" class="idref" href="#stepPar"><span class="id" title="constructor">stepPar</span></a> : <span class="id" title="keyword">forall</span> <a id="c:95" class="idref" href="#c:95"><span class="id" title="binder">c</span></a> <a id="c':96" class="idref" href="#c':96"><span class="id" title="binder">c'</span></a> <a id="d:97" class="idref" href="#d:97"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:95"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':96"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:95"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:97"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':96"><span class="id" title="variable">c'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:97"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="stepStruct" class="idref" href="#stepStruct"><span class="id" title="constructor">stepStruct</span></a> : <span class="id" title="keyword">forall</span> <a id="r:98" class="idref" href="#r:98"><span class="id" title="binder">r</span></a> <a id="c:99" class="idref" href="#c:99"><span class="id" title="binder">c</span></a> <a id="c':100" class="idref" href="#c':100"><span class="id" title="binder">c'</span></a> <a id="d:101" class="idref" href="#d:101"><span class="id" title="binder">d</span></a> <a id="d':102" class="idref" href="#d':102"><span class="id" title="binder">d'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructEq"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:99"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:98"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':100"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructEq"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d':102"><span class="id" title="variable">d'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:98"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:101"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c':100"><span class="id" title="variable">c'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d':102"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step:58"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:57"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:99"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:101"><span class="id" title="variable">d</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="RuntimeEnv" class="idref" href="#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="MailboxTypes.Types.html#TType"><span class="id" title="inductive">TType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="RuntimeEnvironmentCombination" class="idref" href="#RuntimeEnvironmentCombination"><span class="id" title="definition, inductive"><span id="RuntimeEnvironmentCombination_ind" class="id"><span id="RuntimeEnvironmentCombination_sind" class="id">RuntimeEnvironmentCombination</span></span></span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="RuntimeEnvCombEmpty" class="idref" href="#RuntimeEnvCombEmpty"><span class="id" title="constructor">RuntimeEnvCombEmpty</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Special&nbsp;constructor&nbsp;for&nbsp;our&nbsp;representation&nbsp;of&nbsp;environments&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="RuntimeEnvCombNone" class="idref" href="#RuntimeEnvCombNone"><span class="id" title="constructor">RuntimeEnvCombNone</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:105" class="idref" href="#env1:105"><span class="id" title="binder">env1</span></a> <a id="env2:106" class="idref" href="#env2:106"><span class="id" title="binder">env2</span></a> <a id="env:107" class="idref" href="#env:107"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:105"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:106"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:107"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:105"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:106"><span class="id" title="variable">env2</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:107"><span class="id" title="variable">env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="RuntimeEnvCombLeft" class="idref" href="#RuntimeEnvCombLeft"><span class="id" title="constructor">RuntimeEnvCombLeft</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:108" class="idref" href="#env1:108"><span class="id" title="binder">env1</span></a> <a id="env2:109" class="idref" href="#env2:109"><span class="id" title="binder">env2</span></a> <a id="env:110" class="idref" href="#env:110"><span class="id" title="binder">env</span></a> <a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:108"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:109"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:110"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:108"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:109"><span class="id" title="variable">env2</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:110"><span class="id" title="variable">env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvCombRight" class="idref" href="#EnvCombRight"><span class="id" title="constructor">EnvCombRight</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:112" class="idref" href="#env1:112"><span class="id" title="binder">env1</span></a> <a id="env2:113" class="idref" href="#env2:113"><span class="id" title="binder">env2</span></a> <a id="env:114" class="idref" href="#env:114"><span class="id" title="binder">env</span></a> <a id="T:115" class="idref" href="#T:115"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:112"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:113"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:114"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:112"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:115"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:113"><span class="id" title="variable">env2</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:115"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:114"><span class="id" title="variable">env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvCombBoth" class="idref" href="#EnvCombBoth"><span class="id" title="constructor">EnvCombBoth</span></a> : <span class="id" title="keyword">forall</span> <a id="T:116" class="idref" href="#T:116"><span class="id" title="binder">T</span></a> <a id="env1:117" class="idref" href="#env1:117"><span class="id" title="binder">env1</span></a> <a id="env2:118" class="idref" href="#env2:118"><span class="id" title="binder">env2</span></a> <a id="env:119" class="idref" href="#env:119"><span class="id" title="binder">env</span></a> <a id="T1:120" class="idref" href="#T1:120"><span class="id" title="binder">T1</span></a> <a id="T2:121" class="idref" href="#T2:121"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:117"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:118"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:119"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#T1:120"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Types.html#879244207be906fbc430efbe09af2744"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:121"><span class="id" title="variable">T2</span></a> <a class="idref" href="MailboxTypes.Types.html#879244207be906fbc430efbe09af2744"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:116"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination:103"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:120"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:117"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:121"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:118"><span class="id" title="variable">env2</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:116"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:119"><span class="id" title="variable">env</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="RuntimeSubtype" class="idref" href="#RuntimeSubtype"><span class="id" title="definition, inductive"><span id="RuntimeSubtype_ind" class="id"><span id="RuntimeSubtype_sind" class="id">RuntimeSubtype</span></span></span></a> : <a class="idref" href="MailboxTypes.Types.html#TType"><span class="id" title="inductive">TType</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Types.html#TType"><span class="id" title="inductive">TType</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="SubtypeBase" class="idref" href="#SubtypeBase"><span class="id" title="constructor">SubtypeBase</span></a> : <span class="id" title="keyword">forall</span> <a id="c:124" class="idref" href="#c:124"><span class="id" title="binder">c</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype:122"><span class="id" title="inductive">RuntimeSubtype</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTBase"><span class="id" title="constructor">TTBase</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:124"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MailboxTypes.Types.html#TTBase"><span class="id" title="constructor">TTBase</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:124"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="SubtypeInput" class="idref" href="#SubtypeInput"><span class="id" title="constructor">SubtypeInput</span></a> : <span class="id" title="keyword">forall</span> <a id="e:125" class="idref" href="#e:125"><span class="id" title="binder">e</span></a> <a id="f:126" class="idref" href="#f:126"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion"><span class="id" title="definition">MPInclusion</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:125"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype:122"><span class="id" title="inductive">RuntimeSubtype</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#MTInput"><span class="id" title="constructor">MTInput</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:125"><span class="id" title="variable">e</span></a>)) (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#MTInput"><span class="id" title="constructor">MTInput</span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:126"><span class="id" title="variable">f</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="SubtypeOutput" class="idref" href="#SubtypeOutput"><span class="id" title="constructor">SubtypeOutput</span></a> : <span class="id" title="keyword">forall</span> <a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a> <a id="f:128" class="idref" href="#f:128"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion"><span class="id" title="definition">MPInclusion</span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:127"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype:122"><span class="id" title="inductive">RuntimeSubtype</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#MTOutput"><span class="id" title="constructor">MTOutput</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:127"><span class="id" title="variable">e</span></a>)) (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#MTOutput"><span class="id" title="constructor">MTOutput</span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:128"><span class="id" title="variable">f</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ReliableType" class="idref" href="#ReliableType"><span class="id" title="definition">ReliableType</span></a> (<a id="T:129" class="idref" href="#T:129"><span class="id" title="binder">T</span></a> : <a class="idref" href="MailboxTypes.Types.html#TType"><span class="id" title="inductive">TType</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:129"><span class="id" title="variable">T</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a921dba4fdf3082008d59c1c1e42b4bc"><span class="id" title="notation"></span></a>))<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ReliableEnv" class="idref" href="#ReliableEnv"><span class="id" title="definition">ReliableEnv</span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Util.html#ForallMaybe"><span class="id" title="definition">ForallMaybe</span></a> <a class="idref" href="MailboxTypes.Runtime.html#ReliableType"><span class="id" title="definition">ReliableType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="RuntimeEnvironmentSubtype" class="idref" href="#RuntimeEnvironmentSubtype"><span class="id" title="definition, inductive"><span id="RuntimeEnvironmentSubtype_ind" class="id"><span id="RuntimeEnvironmentSubtype_sind" class="id">RuntimeEnvironmentSubtype</span></span></span></a> : <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvSubtypeNone" class="idref" href="#EnvSubtypeNone"><span class="id" title="constructor">EnvSubtypeNone</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:132" class="idref" href="#env1:132"><span class="id" title="binder">env1</span></a> <a id="env2:133" class="idref" href="#env2:133"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:132"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:133"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:132"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:133"><span class="id" title="variable">env2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvSubtypeDrop" class="idref" href="#EnvSubtypeDrop"><span class="id" title="constructor">EnvSubtypeDrop</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:134" class="idref" href="#env1:134"><span class="id" title="binder">env1</span></a> <a id="env2:135" class="idref" href="#env2:135"><span class="id" title="binder">env2</span></a> <a id="T:136" class="idref" href="#T:136"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Types.html#Unrestricted"><span class="id" title="inductive">Unrestricted</span></a> (<a class="idref" href="MailboxTypes.Types.html#a51f3d3e1eb00ae709bc12037d202115"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:136"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Types.html#a51f3d3e1eb00ae709bc12037d202115"><span class="id" title="notation"></span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:134"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:135"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:136"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:134"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:135"><span class="id" title="variable">env2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvSubtypeSub" class="idref" href="#EnvSubtypeSub"><span class="id" title="constructor">EnvSubtypeSub</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:137" class="idref" href="#env1:137"><span class="id" title="binder">env1</span></a> <a id="env2:138" class="idref" href="#env2:138"><span class="id" title="binder">env2</span></a> <a id="T1:139" class="idref" href="#T1:139"><span class="id" title="binder">T1</span></a> <a id="T2:140" class="idref" href="#T2:140"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:139"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:140"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:137"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:138"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:139"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:137"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:140"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:138"><span class="id" title="variable">env2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvSubtypeTrans" class="idref" href="#EnvSubtypeTrans"><span class="id" title="constructor">EnvSubtypeTrans</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:141" class="idref" href="#env1:141"><span class="id" title="binder">env1</span></a> <a id="env2:142" class="idref" href="#env2:142"><span class="id" title="binder">env2</span></a> <a id="env3:143" class="idref" href="#env3:143"><span class="id" title="binder">env3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:141"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:142"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:142"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:143"><span class="id" title="variable">env3</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:141"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:143"><span class="id" title="variable">env3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnvSubtypeRefl" class="idref" href="#EnvSubtypeRefl"><span class="id" title="constructor">EnvSubtypeRefl</span></a> : <span class="id" title="keyword">forall</span> <a id="env:144" class="idref" href="#env:144"><span class="id" title="binder">env</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype:130"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:144"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:144"><span class="id" title="variable">env</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="WellTypedStack" class="idref" href="#WellTypedStack"><span class="id" title="definition, inductive"><span id="WellTypedStack_ind" class="id"><span id="WellTypedStack_sind" class="id">WellTypedStack</span></span></span></a> (<a id="prog:145" class="idref" href="#prog:145"><span class="id" title="binder">prog</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Prog"><span class="id" title="record">Prog</span></a>) : <a class="idref" href="MailboxTypes.Environment.html#Env"><span class="id" title="definition">Env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Types.html#TUsage"><span class="id" title="inductive">TUsage</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Stack"><span class="id" title="definition">Stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EMPTY" class="idref" href="#EMPTY"><span class="id" title="constructor">EMPTY</span></a> : <span class="id" title="keyword">forall</span> <a id="env:148" class="idref" href="#env:148"><span class="id" title="binder">env</span></a> <a id="T:149" class="idref" href="#T:149"><span class="id" title="binder">T</span></a>, <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv"><span class="id" title="definition">EmptyEnv</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:148"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack:146"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:145"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:148"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:149"><span class="id" title="variable">T</span></a> <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="CONS" class="idref" href="#CONS"><span class="id" title="constructor">CONS</span></a> : <span class="id" title="keyword">forall</span> <a id="x:150" class="idref" href="#x:150"><span class="id" title="binder">x</span></a> <a id="env1:151" class="idref" href="#env1:151"><span class="id" title="binder">env1</span></a> <a id="env2:152" class="idref" href="#env2:152"><span class="id" title="binder">env2</span></a> <a id="env:153" class="idref" href="#env:153"><span class="id" title="binder">env</span></a> <a id="t:154" class="idref" href="#t:154"><span class="id" title="binder">t</span></a> <a id="T1:155" class="idref" href="#T1:155"><span class="id" title="binder">T1</span></a> <a id="T2:156" class="idref" href="#T2:156"><span class="id" title="binder">T2</span></a> <a id="stack:157" class="idref" href="#stack:157"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:145"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:150"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:155"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:151"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#t:154"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:156"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Types.html#ReturnableType"><span class="id" title="inductive">ReturnableType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:156"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack:146"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:145"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:152"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:156"><span class="id" title="variable">T2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:157"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:151"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:152"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:153"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack:146"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:145"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:153"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:155"><span class="id" title="variable">T1</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Runtime.html#x:150"><span class="id" title="variable">x</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:154"><span class="id" title="variable">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:157"><span class="id" title="variable">stack</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="WellTypedConfig" class="idref" href="#WellTypedConfig"><span class="id" title="definition, inductive"><span id="WellTypedConfig_ind" class="id"><span id="WellTypedConfig_sind" class="id">WellTypedConfig</span></span></span></a> (<a id="prog:158" class="idref" href="#prog:158"><span class="id" title="binder">prog</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Prog"><span class="id" title="record">Prog</span></a>) : <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnv"><span class="id" title="definition">RuntimeEnv</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Configuration"><span class="id" title="inductive">Configuration</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="NU" class="idref" href="#NU"><span class="id" title="constructor">NU</span></a> : <span class="id" title="keyword">forall</span> <a id="env:161" class="idref" href="#env:161"><span class="id" title="binder">env</span></a> <a id="c:162" class="idref" href="#c:162"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:161"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:162"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:161"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:162"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PAR" class="idref" href="#PAR"><span class="id" title="constructor">PAR</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:163" class="idref" href="#env1:163"><span class="id" title="binder">env1</span></a> <a id="env2:164" class="idref" href="#env2:164"><span class="id" title="binder">env2</span></a> <a id="env:165" class="idref" href="#env:165"><span class="id" title="binder">env</span></a> <a id="c:166" class="idref" href="#c:166"><span class="id" title="binder">c</span></a> <a id="d:167" class="idref" href="#d:167"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:163"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:166"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:164"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:167"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:163"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:164"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:165"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:165"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:166"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:167"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="MESSAGE" class="idref" href="#MESSAGE"><span class="id" title="constructor">MESSAGE</span></a> : <span class="id" title="keyword">forall</span> <a id="env:168" class="idref" href="#env:168"><span class="id" title="binder">env</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> <a id="x:170" class="idref" href="#x:170"><span class="id" title="binder">x</span></a> <a id="m:171" class="idref" href="#m:171"><span class="id" title="binder">m</span></a> <a id="T:172" class="idref" href="#T:172"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Util.html#map_maybe"><span class="id" title="definition">map_maybe</span></a> <a class="idref" href="MailboxTypes.Types.html#secondType"><span class="id" title="definition">secondType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:168"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:169"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#T:172"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#T:172"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#a51f3d3e1eb00ae709bc12037d202115"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Syntax.html#signature"><span class="id" title="projection">signature</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:171"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Types.html#a51f3d3e1eb00ae709bc12037d202115"><span class="id" title="notation"></span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:170"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#43e60fd6f3507e84dad3f71c3b5b235a"><span class="id" title="notation">!</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:171"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#env:168"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfMessage"><span class="id" title="constructor">ConfMessage</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:170"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:171"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:169"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="THREAD" class="idref" href="#THREAD"><span class="id" title="constructor">THREAD</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:173" class="idref" href="#env1:173"><span class="id" title="binder">env1</span></a> <a id="env2:174" class="idref" href="#env2:174"><span class="id" title="binder">env2</span></a> <a id="env:175" class="idref" href="#env:175"><span class="id" title="binder">env</span></a> <a id="t:176" class="idref" href="#t:176"><span class="id" title="binder">t</span></a> <a id="T:177" class="idref" href="#T:177"><span class="id" title="binder">T</span></a> <a id="stack:178" class="idref" href="#stack:178"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:173"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:174"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Util.html#map_maybe"><span class="id" title="definition">map_maybe</span></a> <a class="idref" href="MailboxTypes.Types.html#returnType"><span class="id" title="definition">returnType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:175"><span class="id" title="variable">env</span></a><a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:173"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:176"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:177"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:174"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:177"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:178"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:175"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:176"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:178"><span class="id" title="variable">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="SUBS" class="idref" href="#SUBS"><span class="id" title="constructor">SUBS</span></a> : <span class="id" title="keyword">forall</span> <a id="env:179" class="idref" href="#env:179"><span class="id" title="binder">env</span></a> <a id="env':180" class="idref" href="#env':180"><span class="id" title="binder">env'</span></a> <a id="c:181" class="idref" href="#c:181"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:179"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':180"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':180"><span class="id" title="variable">env'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:181"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig:159"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:158"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:179"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:181"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MailboxTypes.Runtime.html#runtime_def"><span class="id" title="section">runtime_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="cdf9359d1cfc5f01724aadee220c88fb" class="idref" href="#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">&quot;</span></a>Env1  Env2 ~= Env" := (<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <span class="id" title="var">Env1</span> <span class="id" title="var">Env2</span> <span class="id" title="var">Env</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80) : <span class="id" title="var">environment_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h2 class="section">Properties of the operational semantics</h2>

<div class="paragraph"> </div>

  Again, this is not finished and needs more work!

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runtime_props" class="idref" href="#runtime_props"><span class="id" title="section">runtime_props</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="runtime_props.M" class="idref" href="#runtime_props.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MailboxTypes.Message.html#IMessage"><span class="id" title="class">IMessage</span></a> <span class="id" title="var">Message</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="runtime_props.D" class="idref" href="#runtime_props.D"><span class="id" title="variable">D</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#IDefinitionName"><span class="id" title="class">IDefinitionName</span></a> <span class="id" title="var">DefinitionName</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeSubtype_refl" class="idref" href="#RuntimeSubtype_refl"><span class="id" title="lemma">RuntimeSubtype_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="T:186" class="idref" href="#T:186"><span class="id" title="binder">T</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:186"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:186"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeSubtype_trans" class="idref" href="#RuntimeSubtype_trans"><span class="id" title="lemma">RuntimeSubtype_trans</span></a> : <span class="id" title="keyword">forall</span> <a id="T1:187" class="idref" href="#T1:187"><span class="id" title="binder">T1</span></a> <a id="T2:188" class="idref" href="#T2:188"><span class="id" title="binder">T2</span></a> <a id="T3:189" class="idref" href="#T3:189"><span class="id" title="binder">T3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:187"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:188"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:188"><span class="id" title="variable">T2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T3:189"><span class="id" title="variable">T3</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:187"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T3:189"><span class="id" title="variable">T3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub1</span> <span class="id" title="var">Sub2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub2</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_trans"><span class="id" title="lemma">MPInclusion_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentSubtype_refl" class="idref" href="#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="env:190" class="idref" href="#env:190"><span class="id" title="binder">env</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:190"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:190"><span class="id" title="variable">env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">env</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentSubtype_trans" class="idref" href="#RuntimeEnvironmentSubtype_trans"><span class="id" title="lemma">RuntimeEnvironmentSubtype_trans</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:191" class="idref" href="#env1:191"><span class="id" title="binder">env1</span></a> <a id="env2:192" class="idref" href="#env2:192"><span class="id" title="binder">env2</span></a> <a id="env3:193" class="idref" href="#env3:193"><span class="id" title="binder">env3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:191"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:192"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:192"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:193"><span class="id" title="variable">env3</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:191"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:193"><span class="id" title="variable">env3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentCombination_comm" class="idref" href="#RuntimeEnvironmentCombination_comm"><span class="id" title="lemma">RuntimeEnvironmentCombination_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:194" class="idref" href="#env1:194"><span class="id" title="binder">env1</span></a> <a id="env2:195" class="idref" href="#env2:195"><span class="id" title="binder">env2</span></a> <a id="env3:196" class="idref" href="#env3:196"><span class="id" title="binder">env3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:194"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:195"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:196"><span class="id" title="variable">env3</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:195"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:194"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:196"><span class="id" title="variable">env3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Comb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Comb</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHComb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#TypeCombination_comm"><span class="id" title="lemma">TypeCombination_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentCombination_assoc" class="idref" href="#RuntimeEnvironmentCombination_assoc"><span class="id" title="lemma">RuntimeEnvironmentCombination_assoc</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:197" class="idref" href="#env1:197"><span class="id" title="binder">env1</span></a> <a id="env2:198" class="idref" href="#env2:198"><span class="id" title="binder">env2</span></a> <a id="env3:199" class="idref" href="#env3:199"><span class="id" title="binder">env3</span></a> <a id="env2':200" class="idref" href="#env2':200"><span class="id" title="binder">env2'</span></a> <a id="env:201" class="idref" href="#env:201"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:197"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':200"><span class="id" title="variable">env2'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:201"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env2:198"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:199"><span class="id" title="variable">env3</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':200"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env1':202" class="idref" href="#env1':202"><span class="id" title="binder">env1'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1':202"><span class="id" title="variable">env1'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env3:199"><span class="id" title="variable">env3</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:201"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:197"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:198"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1':202"><span class="id" title="variable">env1'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentCombination_Subtype_right" class="idref" href="#RuntimeEnvironmentCombination_Subtype_right"><span class="id" title="lemma">RuntimeEnvironmentCombination_Subtype_right</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:203" class="idref" href="#env1:203"><span class="id" title="binder">env1</span></a> <a id="env2:204" class="idref" href="#env2:204"><span class="id" title="binder">env2</span></a> <a id="env2':205" class="idref" href="#env2':205"><span class="id" title="binder">env2'</span></a> <a id="env:206" class="idref" href="#env:206"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:203"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:204"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:206"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:204"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':205"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':207" class="idref" href="#env':207"><span class="id" title="binder">env'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:203"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':205"><span class="id" title="variable">env2'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':207"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:206"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':207"><span class="id" title="variable">env'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentCombination_Subtype" class="idref" href="#RuntimeEnvironmentCombination_Subtype"><span class="id" title="lemma">RuntimeEnvironmentCombination_Subtype</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:208" class="idref" href="#env1:208"><span class="id" title="binder">env1</span></a> <a id="env2:209" class="idref" href="#env2:209"><span class="id" title="binder">env2</span></a> <a id="env:210" class="idref" href="#env:210"><span class="id" title="binder">env</span></a> <a id="env':211" class="idref" href="#env':211"><span class="id" title="binder">env'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:208"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:209"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:210"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:210"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':211"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env1':212" class="idref" href="#env1':212"><span class="id" title="binder">env1'</span></a> <a id="env2':213" class="idref" href="#env2':213"><span class="id" title="binder">env2'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1':212"><span class="id" title="variable">env1'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':213"><span class="id" title="variable">env2'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#cdf9359d1cfc5f01724aadee220c88fb"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':211"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:208"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1':212"><span class="id" title="variable">env1'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:209"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':213"><span class="id" title="variable">env2'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_PAR_inv" class="idref" href="#WellTypedConfig_PAR_inv"><span class="id" title="lemma">WellTypedConfig_PAR_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="env:214" class="idref" href="#env:214"><span class="id" title="binder">env</span></a> <a id="c1:215" class="idref" href="#c1:215"><span class="id" title="binder">c1</span></a> <a id="c2:216" class="idref" href="#c2:216"><span class="id" title="binder">c2</span></a> <a id="prog:217" class="idref" href="#prog:217"><span class="id" title="binder">prog</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:217"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:214"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c1:215"><span class="id" title="variable">c1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c2:216"><span class="id" title="variable">c2</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env1:218" class="idref" href="#env1:218"><span class="id" title="binder">env1</span></a> <a id="env2:219" class="idref" href="#env2:219"><span class="id" title="binder">env2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination"><span class="id" title="inductive">RuntimeEnvironmentCombination</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:218"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:219"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:214"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:217"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:218"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c1:215"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:217"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:219"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c2:216"><span class="id" title="variable">c2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">env1</span>, <span class="id" title="var">env2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1</span> [<span class="id" title="var">env2</span> [<span class="id" title="var">Comb</span> [<span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination_Subtype"><span class="id" title="axiom">RuntimeEnvironmentCombination_Subtype</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env'</span> := <span class="id" title="var">env</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Comb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_lower" class="idref" href="#WellTypedConfig_lower"><span class="id" title="lemma">WellTypedConfig_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder">x</span></a> <a id="c:221" class="idref" href="#c:221"><span class="id" title="binder">c</span></a> <a id="env:222" class="idref" href="#env:222"><span class="id" title="binder">env</span></a> <a id="prog:223" class="idref" href="#prog:223"><span class="id" title="binder">prog</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="definition">In</span> <a class="idref" href="MailboxTypes.Runtime.html#x:220"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#FV_conf"><span class="id" title="definition">FV_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:221"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:223"><span class="id" title="variable">prog</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Lists.ListDef.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:220"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:222"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:221"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:223"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:222"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#lower_conf"><span class="id" title="definition">lower_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:221"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">In</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#PAR"><span class="id" title="constructor">PAR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">In'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Par_comm" class="idref" href="#Par_comm"><span class="id" title="lemma">Par_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:224" class="idref" href="#prog:224"><span class="id" title="binder">prog</span></a> <a id="env:225" class="idref" href="#env:225"><span class="id" title="binder">env</span></a> <a id="c:226" class="idref" href="#c:226"><span class="id" title="binder">c</span></a> <a id="d:227" class="idref" href="#d:227"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:224"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:225"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:226"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:227"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:224"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:225"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:227"><span class="id" title="variable">d</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:226"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#PAR"><span class="id" title="constructor">PAR</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination_comm"><span class="id" title="lemma">RuntimeEnvironmentCombination_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Par_assoc" class="idref" href="#Par_assoc"><span class="id" title="lemma">Par_assoc</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:228" class="idref" href="#prog:228"><span class="id" title="binder">prog</span></a> <a id="env:229" class="idref" href="#env:229"><span class="id" title="binder">env</span></a> <a id="c:230" class="idref" href="#c:230"><span class="id" title="binder">c</span></a> <a id="d:231" class="idref" href="#d:231"><span class="id" title="binder">d</span></a> <a id="e:232" class="idref" href="#e:232"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:228"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:229"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:230"><span class="id" title="variable">c</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:231"><span class="id" title="variable">d</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:232"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:228"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:229"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:230"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:231"><span class="id" title="variable">d</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#e:232"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">d</span> <span class="id" title="var">e</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">d0</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env</span> <span class="id" title="var">d0</span> <span class="id" title="var">e</span> <span class="id" title="var">HeqE'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHWT1</span> <span class="id" title="var">IHWT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination_assoc"><span class="id" title="axiom">RuntimeEnvironmentCombination_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">Comb1</span> <span class="id" title="var">Comb2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#PAR"><span class="id" title="constructor">PAR</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#PAR"><span class="id" title="constructor">PAR</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentCombination_Subtype_right"><span class="id" title="axiom">RuntimeEnvironmentCombination_Subtype_right</span></a> <span class="id" title="var">env1</span> <span class="id" title="var">env</span> <span class="id" title="var">env'</span> <span class="id" title="var">env0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">Comb'</span> <span class="id" title="var">Sub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_ConfRestr_inv" class="idref" href="#WellTypedConfig_ConfRestr_inv"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:233" class="idref" href="#prog:233"><span class="id" title="binder">prog</span></a> <a id="env:234" class="idref" href="#env:234"><span class="id" title="binder">env</span></a> <a id="c:235" class="idref" href="#c:235"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:233"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:234"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:235"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':236" class="idref" href="#env':236"><span class="id" title="binder">env'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:234"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':236"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:233"><span class="id" title="variable">prog</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':236"><span class="id" title="variable">env'</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:235"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">c0</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">Sub'</span> <span class="id" title="var">WT'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env''</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_ConfRestr_inv'" class="idref" href="#WellTypedConfig_ConfRestr_inv'"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv'</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:237" class="idref" href="#prog:237"><span class="id" title="binder">prog</span></a> <a id="env:238" class="idref" href="#env:238"><span class="id" title="binder">env</span></a> <a id="c:239" class="idref" href="#c:239"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:237"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:238"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:239"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:237"><span class="id" title="variable">prog</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:238"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:239"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':240" class="idref" href="#env':240"><span class="id" title="binder">env'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:238"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':240"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:237"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':240"><span class="id" title="variable">env'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:239"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">c0</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">WT'</span> | [<span class="id" title="var">env''</span> [<span class="id" title="var">Sub'</span> <span class="id" title="var">WT'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env'</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>; (<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype_refl"><span class="id" title="lemma">RuntimeSubtype_refl</span></a> || <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">env''</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_ConfRestr_inv''" class="idref" href="#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:241" class="idref" href="#prog:241"><span class="id" title="binder">prog</span></a> <a id="env:242" class="idref" href="#env:242"><span class="id" title="binder">env</span></a> <a id="c:243" class="idref" href="#c:243"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:241"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:242"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:243"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:241"><span class="id" title="variable">prog</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:242"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#c:243"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env'</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype_refl"><span class="id" title="lemma">RuntimeSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_ConfConf_inv" class="idref" href="#WellTypedConfig_ConfConf_inv"><span class="id" title="lemma">WellTypedConfig_ConfConf_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:244" class="idref" href="#prog:244"><span class="id" title="binder">prog</span></a> <a id="env:245" class="idref" href="#env:245"><span class="id" title="binder">env</span></a> <a id="t:246" class="idref" href="#t:246"><span class="id" title="binder">t</span></a> <a id="stack:247" class="idref" href="#stack:247"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:244"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:245"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:246"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:247"><span class="id" title="variable">stack</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':248" class="idref" href="#env':248"><span class="id" title="binder">env'</span></a> <a id="T:249" class="idref" href="#T:249"><span class="id" title="binder">T</span></a> <a id="env1:250" class="idref" href="#env1:250"><span class="id" title="binder">env1</span></a> <a id="env2:251" class="idref" href="#env2:251"><span class="id" title="binder">env2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:250"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:251"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Util.html#map_maybe"><span class="id" title="definition">map_maybe</span></a> <a class="idref" href="MailboxTypes.Types.html#returnType"><span class="id" title="definition">returnType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':248"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:244"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:250"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:246"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:249"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:244"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:251"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:249"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:247"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:245"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':248"><span class="id" title="variable">env'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env</span>, <span class="id" title="var">T</span>, <span class="id" title="var">env1</span>, <span class="id" title="var">env2</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">T</span> [<span class="id" title="var">env1</span> [<span class="id" title="var">env2</span> [<span class="id" title="var">Comb</span> [<span class="id" title="var">WT1</span> [<span class="id" title="var">WT2</span> <span class="id" title="var">Sub</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">envT</span>, <span class="id" title="var">T</span>, <span class="id" title="var">env1</span>, <span class="id" title="var">env2</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_ConfConf_inv'" class="idref" href="#WellTypedConfig_ConfConf_inv'"><span class="id" title="lemma">WellTypedConfig_ConfConf_inv'</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:252" class="idref" href="#prog:252"><span class="id" title="binder">prog</span></a> <a id="env:253" class="idref" href="#env:253"><span class="id" title="binder">env</span></a> <a id="t:254" class="idref" href="#t:254"><span class="id" title="binder">t</span></a> <a id="stack:255" class="idref" href="#stack:255"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:252"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:253"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:254"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:255"><span class="id" title="variable">stack</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="T:256" class="idref" href="#T:256"><span class="id" title="binder">T</span></a> <a id="env1:257" class="idref" href="#env1:257"><span class="id" title="binder">env1</span></a> <a id="env2:258" class="idref" href="#env2:258"><span class="id" title="binder">env2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:257"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:258"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Util.html#map_maybe"><span class="id" title="definition">map_maybe</span></a> <a class="idref" href="MailboxTypes.Types.html#returnType"><span class="id" title="definition">returnType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:253"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:252"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:257"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:254"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:256"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:252"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:258"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:256"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:255"><span class="id" title="variable">stack</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':259" class="idref" href="#env':259"><span class="id" title="binder">env'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:253"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':259"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:252"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':259"><span class="id" title="variable">env'</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:254"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:255"><span class="id" title="variable">stack</span></a>)<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">T</span>, <span class="id" title="var">env1</span>, <span class="id" title="var">env2</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">T</span> [<span class="id" title="var">env1</span> [<span class="id" title="var">env2</span> [<span class="id" title="var">Comb</span> [<span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span>]]]]] | [<span class="id" title="var">env''</span> [<span class="id" title="var">Sub</span> <span class="id" title="var">WT'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">env'</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">env'</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentSubtype_None_inv" class="idref" href="#RuntimeEnvironmentSubtype_None_inv"><span class="id" title="lemma">RuntimeEnvironmentSubtype_None_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:260" class="idref" href="#env1:260"><span class="id" title="binder">env1</span></a> <a id="env2:261" class="idref" href="#env2:261"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:260"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#env2:261"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':262" class="idref" href="#env2':262"><span class="id" title="binder">env2'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:260"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':262"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:261"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':262"><span class="id" title="variable">env2'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env1</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHSub1</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Sub'</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHSub2</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Sub''</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env2''</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env1</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="RuntimeEnvironmentSubtype_Some_inv" class="idref" href="#RuntimeEnvironmentSubtype_Some_inv"><span class="id" title="lemma">RuntimeEnvironmentSubtype_Some_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:263" class="idref" href="#env1:263"><span class="id" title="binder">env1</span></a> <a id="env2:264" class="idref" href="#env2:264"><span class="id" title="binder">env2</span></a> <a id="T:265" class="idref" href="#T:265"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:265"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:263"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#env2:264"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':266" class="idref" href="#env2':266"><span class="id" title="binder">env2'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:263"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':266"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Runtime.html#env2:264"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':266"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="T':267" class="idref" href="#T':267"><span class="id" title="binder">T'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:265"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':267"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:264"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':267"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':266"><span class="id" title="variable">env2'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">T</span> <span class="id" title="var">env1</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env2</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">T2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHSub1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Sub'</span> [-&gt; | [<span class="id" title="var">T'</span> [<span class="id" title="var">SubT'</span> -&gt;]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_None_inv"><span class="id" title="lemma">RuntimeEnvironmentSubtype_None_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sub2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Sub2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Sub''</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env2''</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHSub2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Sub''</span> [-&gt; | [<span class="id" title="var">T''</span> [<span class="id" title="var">SubT''</span> -&gt;]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env2''</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">env2''</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_trans"><span class="id" title="axiom">RuntimeEnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">T''</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype_trans"><span class="id" title="lemma">RuntimeSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env1</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype_refl"><span class="id" title="lemma">RuntimeSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="asdveasf" class="idref" href="#asdveasf"><span class="id" title="lemma">asdveasf</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:268" class="idref" href="#env1:268"><span class="id" title="binder">env1</span></a> <a id="env2:269" class="idref" href="#env2:269"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:268"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#env2:269"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':270" class="idref" href="#env2':270"><span class="id" title="binder">env2'</span></a> <a id="T1:271" class="idref" href="#T1:271"><span class="id" title="binder">T1</span></a> <a id="T2:272" class="idref" href="#T2:272"><span class="id" title="binder">T2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env2:269"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:271"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:272"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':270"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#T1:271"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#T2:272"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:268"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':270"><span class="id" title="variable">env2'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env1</span> <span class="id" title="var">HeqE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">IHSub</span> <span class="id" title="var">HeqE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env0</span> <span class="id" title="var">HeqE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">env2</span>, <span class="id" title="var">T2</span>, <span class="id" title="var">T0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHSub1</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">T1</span> [<span class="id" title="var">T3</span> [<span class="id" title="var">Eq</span> [<span class="id" title="var">SubT1</span> [<span class="id" title="var">SubT2</span> <span class="id" title="var">Sub</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHSub2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sacfewf" class="idref" href="#sacfewf"><span class="id" title="lemma">sacfewf</span></a> : <span class="id" title="keyword">forall</span> <a id="env1:273" class="idref" href="#env1:273"><span class="id" title="binder">env1</span></a> <a id="env2:274" class="idref" href="#env2:274"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:273"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#env2:274"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':275" class="idref" href="#env2':275"><span class="id" title="binder">env2'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:273"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2':275"><span class="id" title="variable">env2'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env1</span> <span class="id" title="var">HeqE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqE1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">env1</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_superpattern" class="idref" href="#common_superpattern"><span class="id" title="lemma">common_superpattern</span></a> : <span class="id" title="keyword">forall</span> <a id="e:276" class="idref" href="#e:276"><span class="id" title="binder">e</span></a> <a id="f1:277" class="idref" href="#f1:277"><span class="id" title="binder">f1</span></a> <a id="f2:278" class="idref" href="#f2:278"><span class="id" title="binder">f2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#e:276"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f1:277"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#e:276"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f2:278"><span class="id" title="variable">f2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#f1:277"><span class="id" title="variable">f1</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f1:277"><span class="id" title="variable">f1</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#9801be490ded07147fdfcbbf2e7cc30a"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f2:278"><span class="id" title="variable">f2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#f2:278"><span class="id" title="variable">f2</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f1:277"><span class="id" title="variable">f1</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#9801be490ded07147fdfcbbf2e7cc30a"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f2:278"><span class="id" title="variable">f2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Inc1</span> <span class="id" title="var">Inc2</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;good&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_subpattern" class="idref" href="#common_subpattern"><span class="id" title="lemma">common_subpattern</span></a> : <span class="id" title="keyword">forall</span> <a id="e:279" class="idref" href="#e:279"><span class="id" title="binder">e</span></a> <a id="f1:280" class="idref" href="#f1:280"><span class="id" title="binder">f1</span></a> <a id="f2:281" class="idref" href="#f2:281"><span class="id" title="binder">f2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#f1:280"><span class="id" title="variable">f1</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#f2:281"><span class="id" title="variable">f2</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="e':282" class="idref" href="#e':282"><span class="id" title="binder">e'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e':282"><span class="id" title="variable">e'</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f1:280"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e':282"><span class="id" title="variable">e'</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f2:281"><span class="id" title="variable">f2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Inc1</span> <span class="id" title="var">Inc2</span>; <span class="id" title="tactic">exists</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a921dba4fdf3082008d59c1c1e42b4bc"><span class="id" title="notation"></span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MPInclusion_zero" class="idref" href="#MPInclusion_zero"><span class="id" title="lemma">MPInclusion_zero</span></a> : <span class="id" title="keyword">forall</span> <a id="e:283" class="idref" href="#e:283"><span class="id" title="binder">e</span></a>, <a class="idref" href="MailboxTypes.MailboxPatterns.html#a921dba4fdf3082008d59c1c1e42b4bc"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:283"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MPInclusion_dec" class="idref" href="#MPInclusion_dec"><span class="id" title="lemma">MPInclusion_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="e:284" class="idref" href="#e:284"><span class="id" title="binder">e</span></a> <a id="f:285" class="idref" href="#f:285"><span class="id" title="binder">f</span></a>, <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MailboxTypes.Runtime.html#e:284"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:285"><span class="id" title="variable">f</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:284"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:285"><span class="id" title="variable">f</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">In</span> : <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Eq</span> <span class="id" title="var">_</span> <span class="id" title="var">In</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">In</span> : <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Eq</span> <span class="id" title="var">_</span> <span class="id" title="var">In</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf1</span>, <span class="id" title="var">IHf2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">In</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">In</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">In</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceRight"><span class="id" title="constructor">MPValueChoiceRight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">In</span> : <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <span class="id" title="var">_</span> <span class="id" title="var">In</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf1</span>, <span class="id" title="var">IHf2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">In</span> : <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <span class="id" title="var">_</span> <span class="id" title="var">In</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">InC</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">InC</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Message.html#mailbox_union_empty"><span class="id" title="lemma">mailbox_union_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">In'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">In'</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">m0</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mIn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">exists</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MailboxTypes.Message.html#eq_dec"><span class="id" title="method">Message.eq_dec</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf1</span>, <span class="id" title="var">IHf2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">m0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf1</span>, <span class="id" title="var">IHf2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Eq</span> : <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Message.html#0c09f012d1f54b1d5a327a6f9b76b4ee"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Message.html#c393371fa180e994a60ebb6e05b292f2"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span> <a class="idref" href="MailboxTypes.Message.html#0c09f012d1f54b1d5a327a6f9b76b4ee"><span class="id" title="notation"></span></a> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Message.html#mailbox_union_comm"><span class="id" title="lemma">mailbox_union_comm</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Message.html#mailbox_union_empty_left"><span class="id" title="lemma">mailbox_union_empty_left</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Message.html#mailbox_eq_union_split"><span class="id" title="lemma">mailbox_eq_union_split</span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#5cdb0b2f4bfef77dcbd9182ec18ea9f0"><span class="id" title="notation"></span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">a'</span> <span class="id" title="var">EqA</span>] | [<span class="id" title="var">b'</span> <span class="id" title="var">EqB</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Message.html#mailbox_union_assoc"><span class="id" title="lemma">mailbox_union_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EqA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Permutation.Permutation_app_inv_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EqA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Message.html#mailbox_union_empty"><span class="id" title="lemma">mailbox_union_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EqA</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">EqA</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Message.html#mailbox_union_empty_right"><span class="id" title="lemma">mailbox_union_empty_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">m1</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">m0</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Message.html#mailbox_union_empty_right"><span class="id" title="lemma">mailbox_union_empty_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <span class="id" title="var">_</span> <span class="id" title="var">mIn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">InStar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">InStar</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Pow</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Pow</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MPEqual_dec" class="idref" href="#MPEqual_dec"><span class="id" title="lemma">MPEqual_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="e:286" class="idref" href="#e:286"><span class="id" title="binder">e</span></a> <a id="f:287" class="idref" href="#f:287"><span class="id" title="binder">f</span></a>, <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MailboxTypes.Runtime.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#f35a544af8889eb0d0f29431adbb8351"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:287"><span class="id" title="variable">f</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#f35a544af8889eb0d0f29431adbb8351"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#f:287"><span class="id" title="variable">f</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">e</span> <span class="id" title="var">f</span>), (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">f</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">N1</span> <span class="id" title="var">N2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">N1</span> <span class="id" title="var">N2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">N1</span> <span class="id" title="var">N2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="MPInclusion_one'" class="idref" href="#MPInclusion_one'"><span class="id" title="lemma">MPInclusion_one'</span></a> : <span class="id" title="keyword">forall</span> <a id="e:288" class="idref" href="#e:288"><span class="id" title="binder">e</span></a>, <a class="idref" href="MailboxTypes.Runtime.html#e:288"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:288"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a921dba4fdf3082008d59c1c1e42b4bc"><span class="id" title="notation"></span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e661fa5f7928686963c033e226f35a77"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:288"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Inc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPInclusion_refl"><span class="id" title="lemma">MPInclusion_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#a6a93608908bfcf0634b25294eeb2ea6"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#e1c7e57fa13a4d2b92a0b52946968f33"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">m</span> <a class="idref" href="MailboxTypes.Message.html#a96f04efa7a46f6b08e0b1ae08b9f152"><span class="id" title="notation"></span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">e1</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>), (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">e2</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHe1</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">Inc1_0</span> | <span class="id" title="var">Inc1_1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHe2</span> <span class="id" title="var">m0</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">Inc2_0</span> | <span class="id" title="var">Inc2_1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc1_0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc2_0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceRight"><span class="id" title="constructor">MPValueChoiceRight</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc2_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceLeft"><span class="id" title="constructor">MPValueChoiceLeft</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceLeft"><span class="id" title="constructor">MPValueChoiceLeft</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Inc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceRight"><span class="id" title="constructor">MPValueChoiceRight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Inc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceLeft"><span class="id" title="constructor">MPValueChoiceLeft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Inc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#MPValueChoiceLeft"><span class="id" title="constructor">MPValueChoiceLeft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">e1</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>), (<a class="idref" href="MailboxTypes.Runtime.html#MPInclusion_dec"><span class="id" title="axiom">MPInclusion_dec</span></a> <span class="id" title="var">e2</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHe1</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">Inc1_0</span> | <span class="id" title="var">Inc1_1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHe2</span> <span class="id" title="var">m0</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">Inc2_0</span> | <span class="id" title="var">Inc2_1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc1_0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc1_0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Inc2_0</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">mIn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc1_1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">Inc2_1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_supertype" class="idref" href="#common_supertype"><span class="id" title="lemma">common_supertype</span></a> : <span class="id" title="keyword">forall</span> <a id="T:289" class="idref" href="#T:289"><span class="id" title="binder">T</span></a> <a id="T1:290" class="idref" href="#T1:290"><span class="id" title="binder">T1</span></a> <a id="T2:291" class="idref" href="#T2:291"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:289"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:290"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:289"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:291"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:290"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:291"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:291"><span class="id" title="variable">T2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:290"><span class="id" title="variable">T1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub1</span> <span class="id" title="var">Sub2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">T2</span> <span class="id" title="var">Sub2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Sub1</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_supertype'" class="idref" href="#common_supertype'"><span class="id" title="lemma">common_supertype'</span></a> : <span class="id" title="keyword">forall</span> <a id="T:292" class="idref" href="#T:292"><span class="id" title="binder">T</span></a> <a id="T1:293" class="idref" href="#T1:293"><span class="id" title="binder">T1</span></a> <a id="T2:294" class="idref" href="#T2:294"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:292"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:293"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:292"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:294"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="T':295" class="idref" href="#T':295"><span class="id" title="binder">T'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T1:293"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':295"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype"><span class="id" title="inductive">RuntimeSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T2:294"><span class="id" title="variable">T2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':295"><span class="id" title="variable">T'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub1</span> <span class="id" title="var">Sub2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Types.html#TTBase"><span class="id" title="constructor">TTBase</span></a> <span class="id" title="var">c</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeSubtype_refl"><span class="id" title="lemma">RuntimeSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Runtime.html#common_superpattern"><span class="id" title="lemma">common_superpattern</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Inc1</span> <span class="id" title="var">Inc2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Types.html#TTMailbox"><span class="id" title="constructor">TTMailbox</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.MailboxPatterns.html#9801be490ded07147fdfcbbf2e7cc30a"><span class="id" title="notation"></span></a> <span class="id" title="var">f0</span>)); <span class="id" title="tactic">split</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedConfig_exchange" class="idref" href="#WellTypedConfig_exchange"><span class="id" title="lemma">WellTypedConfig_exchange</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:296" class="idref" href="#prog:296"><span class="id" title="binder">prog</span></a> <a id="x:297" class="idref" href="#x:297"><span class="id" title="binder">x</span></a> <a id="env:298" class="idref" href="#env:298"><span class="id" title="binder">env</span></a> <a id="T:299" class="idref" href="#T:299"><span class="id" title="binder">T</span></a> <a id="c:300" class="idref" href="#c:300"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:296"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:297"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:299"><span class="id" title="variable">T</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:297"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:299"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:298"><span class="id" title="variable">env</span></a>)) <a class="idref" href="MailboxTypes.Runtime.html#c:300"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:296"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:297"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:299"><span class="id" title="variable">T</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:297"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:299"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:298"><span class="id" title="variable">env</span></a>)) (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#x:297"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:300"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nu_exchange" class="idref" href="#Nu_exchange"><span class="id" title="lemma">Nu_exchange</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:301" class="idref" href="#prog:301"><span class="id" title="binder">prog</span></a> <a id="env:302" class="idref" href="#env:302"><span class="id" title="binder">env</span></a> <a id="c:303" class="idref" href="#c:303"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:301"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:302"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:303"><span class="id" title="variable">c</span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:301"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:302"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> 0 <a class="idref" href="MailboxTypes.Runtime.html#c:303"><span class="id" title="variable">c</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfConf_inv"><span class="id" title="lemma">WellTypedConfig_ConfConf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env3</span> [<span class="id" title="var">T</span> [<span class="id" title="var">env3_1</span> [<span class="id" title="var">env3_2</span> [<span class="id" title="var">Comb</span> [<span class="id" title="var">WT_t</span> [<span class="id" title="var">WT_s</span> <span class="id" title="var">Sub3</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Sub3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;inversion&nbsp;lemma&nbsp;for&nbsp;parallel&nbsp;composition&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHc</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="i:304" class="idref" href="#i:304"><span class="id" title="binder"><span id="i:306" class="id">i</span></span></a> <a id="c:305" class="idref" href="#c:305"><span class="id" title="binder"><span id="c:307" class="id">c</span></span></a>, <a class="idref" href="MailboxTypes.Runtime.html#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:304"><span class="id" title="variable">i</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#exchange_conf"><span class="id" title="definition">exchange_conf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#i:304"><span class="id" title="variable">i</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:305"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:305"><span class="id" title="variable">c</span></a>). <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig_ConfRestr_inv''"><span class="id" title="lemma">WellTypedConfig_ConfRestr_inv''</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> 0 <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;more&nbsp;general&nbsp;induction&nbsp;hypothesis&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="preservation_equiv" class="idref" href="#preservation_equiv"><span class="id" title="lemma">preservation_equiv</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:308" class="idref" href="#prog:308"><span class="id" title="binder">prog</span></a> <a id="env:309" class="idref" href="#env:309"><span class="id" title="binder">env</span></a> <a id="r:310" class="idref" href="#r:310"><span class="id" title="binder">r</span></a> <a id="c:311" class="idref" href="#c:311"><span class="id" title="binder">c</span></a> <a id="d:312" class="idref" href="#d:312"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:308"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:309"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:311"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#StructEq"><span class="id" title="inductive">StructEq</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:311"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#r:310"><span class="id" title="variable">r</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:312"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:308"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:309"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:312"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span> <span class="id" title="var">Struct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Struct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#Par_comm"><span class="id" title="lemma">Par_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#Par_assoc"><span class="id" title="lemma">Par_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#Nu_exchange"><span class="id" title="axiom">Nu_exchange</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_and</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">_</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and</span> <span class="id" title="var">H2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and</span> <span class="id" title="var">H1</span>; <span class="id" title="var">destruct_and</span> <span class="id" title="var">H2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ConfConf_TLet_inv" class="idref" href="#ConfConf_TLet_inv"><span class="id" title="lemma">ConfConf_TLet_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:313" class="idref" href="#prog:313"><span class="id" title="binder">prog</span></a> <a id="env:314" class="idref" href="#env:314"><span class="id" title="binder">env</span></a> <a id="t1:315" class="idref" href="#t1:315"><span class="id" title="binder">t1</span></a> <a id="t2:316" class="idref" href="#t2:316"><span class="id" title="binder">t2</span></a> <a id="stack:317" class="idref" href="#stack:317"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:313"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:314"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t1:315"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t2:316"><span class="id" title="variable">t2</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:317"><span class="id" title="variable">stack</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':318" class="idref" href="#env':318"><span class="id" title="binder">env'</span></a> <a id="env1:319" class="idref" href="#env1:319"><span class="id" title="binder">env1</span></a> <a id="env2:320" class="idref" href="#env2:320"><span class="id" title="binder">env2</span></a> <a id="T:321" class="idref" href="#T:321"><span class="id" title="binder">T</span></a> <a id="env4:322" class="idref" href="#env4:322"><span class="id" title="binder">env4</span></a> <a id="T':323" class="idref" href="#T':323"><span class="id" title="binder">T'</span></a> <a id="env3:324" class="idref" href="#env3:324"><span class="id" title="binder">env3</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype"><span class="id" title="inductive">RuntimeEnvironmentSubtype</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:314"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':318"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:313"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':318"><span class="id" title="variable">env'</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t1:315"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t2:316"><span class="id" title="variable">t2</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#stack:317"><span class="id" title="variable">stack</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env1:319"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:320"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Util.html#map_maybe"><span class="id" title="definition">map_maybe</span></a> <a class="idref" href="MailboxTypes.Types.html#returnType"><span class="id" title="definition">returnType</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env':318"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:313"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:319"><span class="id" title="variable">env1</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t1:315"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t2:316"><span class="id" title="variable">t2</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#T:321"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:313"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env2:320"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:321"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:317"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:313"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> 0 <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':323"><span class="id" title="variable">T'</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env4:322"><span class="id" title="variable">env4</span></a>) <a class="idref" href="MailboxTypes.Runtime.html#t2:316"><span class="id" title="variable">t2</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:321"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#env3:324"><span class="id" title="variable">env3</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#env4:322"><span class="id" title="variable">env4</span></a> <a class="idref" href="MailboxTypes.Environment.html#46d2edd125042a1c06882f2bd42d6000"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env1:319"><span class="id" title="variable">env1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#TLet_inv"><span class="id" title="lemma">TLet_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">T1'</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [? [? [? [? ?]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(SecondEnv&nbsp;env1).&nbsp;admit.&nbsp;<span class="comment">(*&nbsp;This&nbsp;should&nbsp;hold&nbsp;*)</span>*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(SecondEnv&nbsp;env').&nbsp;admit.&nbsp;<span class="comment">(*&nbsp;This&nbsp;should&nbsp;hold&nbsp;*)</span>*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(SecondEnv&nbsp;env1').&nbsp;admit.&nbsp;<span class="comment">(*&nbsp;This&nbsp;should&nbsp;hold&nbsp;*)</span>*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(SecondEnv&nbsp;env2').&nbsp;admit.&nbsp;<span class="comment">(*&nbsp;This&nbsp;should&nbsp;hold&nbsp;*)</span>*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env</span>, <span class="id" title="var">env1</span>, <span class="id" title="var">env2</span>, <span class="id" title="var">T</span>, <span class="id" title="var">env2'</span>, <span class="id" title="var">T1'</span>, <span class="id" title="var">env1'</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#RuntimeEnvironmentSubtype_refl"><span class="id" title="lemma">RuntimeEnvironmentSubtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and</span> <span class="id" title="var">E'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#EnvSubtypeTrans"><span class="id" title="constructor">EnvSubtypeTrans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedStack_sub" class="idref" href="#WellTypedStack_sub"><span class="id" title="lemma">WellTypedStack_sub</span></a> : <span class="id" title="keyword">forall</span> <a id="p:325" class="idref" href="#p:325"><span class="id" title="binder">p</span></a> <a id="env:326" class="idref" href="#env:326"><span class="id" title="binder">env</span></a> <a id="T:327" class="idref" href="#T:327"><span class="id" title="binder">T</span></a> <a id="T':328" class="idref" href="#T':328"><span class="id" title="binder">T'</span></a> <a id="stack:329" class="idref" href="#stack:329"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#T':328"><span class="id" title="variable">T'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:327"><span class="id" title="variable">T</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#p:325"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:326"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T:327"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:329"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack"><span class="id" title="inductive">WellTypedStack</span></a> <a class="idref" href="MailboxTypes.Runtime.html#p:325"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:326"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#T':328"><span class="id" title="variable">T'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:329"><span class="id" title="variable">stack</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Sub</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">T'</span> <span class="id" title="var">Sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm_insert_Sub"><span class="id" title="lemma">WellTypedTerm_insert_Sub</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*Lemma&nbsp;WellTypedStack_raw_insert_None&nbsp;:&nbsp;forall&nbsp;p&nbsp;env&nbsp;T&nbsp;stack,*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;WellTypedStack&nbsp;p&nbsp;env&nbsp;T&nbsp;stack&nbsp;-&gt;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;WellTypedStack&nbsp;p&nbsp;(None&nbsp;::&nbsp;env)&nbsp;T&nbsp;(lift_Stack&nbsp;stack).*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*Proof.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;intros&nbsp;*&nbsp;WT.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;induction&nbsp;WT.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;-&nbsp;simpl;&nbsp;now&nbsp;repeat&nbsp;constructor.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;-&nbsp;eapply&nbsp;CONS&nbsp;with&nbsp;(env1&nbsp;:=&nbsp;None&nbsp;::&nbsp;env1);&nbsp;try&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;apply&nbsp;WellTypedTerm_raw_insert_None&nbsp;with&nbsp;(x&nbsp;:=&nbsp;0)&nbsp;in&nbsp;H.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;raw_insert_zero&nbsp;in&nbsp;H.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;raw_insert_successor;&nbsp;rewrite&nbsp;lookup_zero;&nbsp;simpl.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;now&nbsp;constructor.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*Qed.*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="preservation" class="idref" href="#preservation"><span class="id" title="lemma">preservation</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:330" class="idref" href="#prog:330"><span class="id" title="binder">prog</span></a> <a id="env:331" class="idref" href="#env:331"><span class="id" title="binder">env</span></a> <a id="c:332" class="idref" href="#c:332"><span class="id" title="binder">c</span></a> <a id="d:333" class="idref" href="#d:333"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedProgram"><span class="id" title="inductive">WellTypedProgram</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:330"><span class="id" title="variable">prog</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#ReliableEnv"><span class="id" title="definition">ReliableEnv</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:331"><span class="id" title="variable">env</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:330"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:331"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:332"><span class="id" title="variable">c</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#Step"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:330"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#c:332"><span class="id" title="variable">c</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:333"><span class="id" title="variable">d</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:330"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:331"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Runtime.html#d:333"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WTP</span> <span class="id" title="var">Reliable</span> <span class="id" title="var">WT</span> <span class="id" title="var">Step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env</span> <span class="id" title="var">Reliable</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Step</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#TLet_inv"><span class="id" title="lemma">TLet_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">TT</span> [<span class="id" title="var">T1'</span> [<span class="id" title="var">env3</span> [<span class="id" title="var">env4</span> [? [? [? [? ?]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#THREAD"><span class="id" title="constructor">THREAD</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">stack</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*generalize&nbsp;(WellTypedEnvSub&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;H0).*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*intros&nbsp;<span class="inlinecode"><span class="id" title="var">Pi1</span></span> <span class="inlinecode">[<span class="id" title="var">Pi2</span></span> <span class="inlinecode">[<span class="id" title="var">Pi3</span></span> <span class="inlinecode">[<span class="id" title="var">T'</span></span> <span class="inlinecode">[<span class="id" title="var">Split</span></span> <span class="inlinecode">[<span class="id" title="var">Sub</span></span> <span class="inlinecode">[<span class="id" title="var">WT'</span></span> <span class="inlinecode">[<span class="id" title="var">Cruftless</span></span> <span class="inlinecode">[<span class="id" title="var">StrSub</span></span> <span class="inlinecode"><span class="id" title="var">SubEnv</span>]]]]]]]]</span>.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*generalize&nbsp;(Subtype_Returnable).*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TApp"><span class="id" title="constructor">TApp</span></a> <span class="id" title="var">definition</span> <span class="id" title="var">v</span>) <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">WTP</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">definition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">WTD</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">WTD</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="notation">[</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">argumentType1</span><span class="id" title="notation">]</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> 0 <span class="id" title="var">argumentType1</span> <span class="id" title="notation">[]</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#THREAD"><span class="id" title="constructor">THREAD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma"><span class="id" title="lemma">subst_lemma</span></a> <span class="id" title="var">prog</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1</span>) <span class="id" title="var">env1</span> <span class="id" title="var">env1</span> <span class="id" title="var">argumentType1</span> <span class="id" title="var">argumentType0</span> <span class="id" title="var">T</span> <span class="id" title="var">body</span> <span class="id" title="var">v</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a> <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">env2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H</span> <span class="id" title="var">Heqt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">env</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#THREAD"><span class="id" title="constructor">THREAD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2</span>) (<span class="id" title="var">T</span> := (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;now&nbsp;apply&nbsp;WellTypedStack_raw_insert_None&nbsp;in&nbsp;H1.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span>). <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">env2</span> <a class="idref" href="MailboxTypes.Environment.html#02646f3c0eda21d78eccefe79f1b4b6b"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2</span>). <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#THREAD"><span class="id" title="constructor">THREAD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env1</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env0</span>) (<span class="id" title="var">T</span> := (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env2</span> := <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <a class="idref" href="MailboxTypes.MailboxPatterns.html#22d1fdaa693003b765e03173ae770621"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_trans"><span class="id" title="lemma">EnvironmentSubtype_trans</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfRestr"><span class="id" title="constructor">ConfRestr</span></a> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHStep</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env'</span> := <span class="id" title="var">env'</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfParallel"><span class="id" title="constructor">ConfParallel</span></a> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHStep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#SUBS"><span class="id" title="constructor">SUBS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env'</span> := <span class="id" title="var">env'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma D.25 Progress (Thread Reduction) 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="thread_reduction" class="idref" href="#thread_reduction"><span class="id" title="lemma">thread_reduction</span></a> : <span class="id" title="keyword">forall</span> <a id="prog:334" class="idref" href="#prog:334"><span class="id" title="binder">prog</span></a> <a id="env:335" class="idref" href="#env:335"><span class="id" title="binder">env</span></a> <a id="t:336" class="idref" href="#t:336"><span class="id" title="binder">t</span></a> <a id="stack:337" class="idref" href="#stack:337"><span class="id" title="binder">stack</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Runtime.html#WellTypedConfig"><span class="id" title="inductive">WellTypedConfig</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:334"><span class="id" title="variable">prog</span></a> <a class="idref" href="MailboxTypes.Runtime.html#env:335"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:337"><span class="id" title="variable">stack</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:338" class="idref" href="#v:338"><span class="id" title="binder">v</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:338"><span class="id" title="variable">v</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:337"><span class="id" title="variable">stack</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="t':339" class="idref" href="#t':339"><span class="id" title="binder">t'</span></a> <a id="stack':340" class="idref" href="#stack':340"><span class="id" title="binder">stack'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#Step"><span class="id" title="inductive">Step</span></a> <a class="idref" href="MailboxTypes.Runtime.html#prog:334"><span class="id" title="variable">prog</span></a> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack:337"><span class="id" title="variable">stack</span></a>) (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t':339"><span class="id" title="variable">t'</span></a> <a class="idref" href="MailboxTypes.Runtime.html#stack':340"><span class="id" title="variable">stack'</span></a>)<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="t':341" class="idref" href="#t':341"><span class="id" title="binder">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t':341"><span class="id" title="variable">t'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v1:342" class="idref" href="#v1:342"><span class="id" title="binder">v1</span></a> <a id="m:343" class="idref" href="#m:343"><span class="id" title="binder">m</span></a> <a id="v2:344" class="idref" href="#v2:344"><span class="id" title="binder">v2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v1:342"><span class="id" title="variable">v1</span></a> <a class="idref" href="MailboxTypes.Runtime.html#m:343"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v2:344"><span class="id" title="variable">v2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:345" class="idref" href="#v:345"><span class="id" title="binder">v</span></a> <a id="e:346" class="idref" href="#e:346"><span class="id" title="binder">e</span></a> <a id="gs:347" class="idref" href="#gs:347"><span class="id" title="binder">gs</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Runtime.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> <a class="idref" href="MailboxTypes.Runtime.html#v:345"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Runtime.html#e:346"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.Runtime.html#gs:347"><span class="id" title="variable">gs</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">))</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Runtime.html#ConfConf"><span class="id" title="constructor">ConfConf</span></a> <span class="id" title="var">t</span> <span class="id" title="var">stack</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">stack</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">HeqC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">right</span> || <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>); <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">v</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepReturn"><span class="id" title="constructor">stepReturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueBool"><span class="id" title="constructor">ValueBool</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="var">v</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepReturn"><span class="id" title="constructor">stepReturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueBool"><span class="id" title="constructor">ValueBool</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="var">v</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepReturn"><span class="id" title="constructor">stepReturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Syntax.html#ValueUnit"><span class="id" title="constructor">ValueUnit</span></a> <span class="id" title="var">v</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">stack0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepReturn"><span class="id" title="constructor">stepReturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepApp"><span class="id" title="constructor">stepApp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#stepLet"><span class="id" title="constructor">stepLet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWellTypedTerm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Runtime.html#WellTypedStack_sub"><span class="id" title="lemma">WellTypedStack_sub</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MailboxTypes.Runtime.html#runtime_props"><span class="id" title="section">runtime_props</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
