<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">MailboxTypes.Substitution</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab13"></a><h1 class="section">Substitution</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="MailboxTypes.Environment.html#"><span class="id" title="library">Environment</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="MailboxTypes.Syntax.html#"><span class="id" title="library">Syntax</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.Util.html#"><span class="id" title="library">Util</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.TypingRules.html#"><span class="id" title="library">TypingRules</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#"><span class="id" title="library">Dblib.DeBruijn</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.Dblib.DblibTactics.html#"><span class="id" title="library">Dblib.DblibTactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MailboxTypes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#"><span class="id" title="library">Dblib.Environments</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Lia</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable All Variables</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h2 class="section">Definitions</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="subs_def" class="idref" href="#subs_def"><span class="id" title="section">subs_def</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="subs_def.M" class="idref" href="#subs_def.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="MailboxTypes.Message.html#IMessage"><span class="id" title="class">IMessage</span></a> <span class="id" title="var">Message</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="subs_def.D" class="idref" href="#subs_def.D"><span class="id" title="variable">D</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#IDefinitionName"><span class="id" title="class">IDefinitionName</span></a> <span class="id" title="var">DefinitionName</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Var_Value" class="idref" href="#Var_Value"><span class="id" title="instance">Var_Value</span></a> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#Var"><span class="id" title="class">Var</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#var"><span class="id" title="method">var</span></a> := <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="traverse_Value" class="idref" href="#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> (<a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a> <a id="v:7" class="idref" href="#v:7"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Substitution.html#v:7"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="MailboxTypes.Substitution.html#f:5"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:6"><span class="id" title="variable">l</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v'</span> =&gt; <span class="id" title="var">v'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="traverse_Term" class="idref" href="#traverse_Term"><span class="id" title="definition">traverse_Term</span></a> (<a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="l:10" class="idref" href="#l:10"><span class="id" title="binder">l</span></a> <a id="t:11" class="idref" href="#t:11"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Substitution.html#t:11"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>  =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Term:15"><span class="id" title="definition">traverse_Term</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Term:15"><span class="id" title="definition">traverse_Term</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a>) <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TApp"><span class="id" title="constructor">TApp</span></a> <span class="id" title="var">def</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TApp"><span class="id" title="constructor">TApp</span></a> <span class="id" title="var">def</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Term:15"><span class="id" title="definition">traverse_Term</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TNew"><span class="id" title="constructor">TNew</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">m</span> <span class="id" title="var">v2</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">v1</span>) <span class="id" title="var">m</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">v2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> <span class="id" title="var">v</span> <span class="id" title="var">e</span> <span class="id" title="var">guards</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">e</span> (<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Guard:16"><span class="id" title="definition">traverse_Guard</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:10"><span class="id" title="variable">l</span></a>) <span class="id" title="var">guards</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="traverse_Guard" class="idref" href="#traverse_Guard"><span class="id" title="definition">traverse_Guard</span></a> (<a id="f:12" class="idref" href="#f:12"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="l:13" class="idref" href="#l:13"><span class="id" title="binder">l</span></a> <a id="g:14" class="idref" href="#g:14"><span class="id" title="binder">g</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MailboxTypes.Substitution.html#g:14"><span class="id" title="variable">g</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#GFail"><span class="id" title="constructor">GFail</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#GFail"><span class="id" title="constructor">GFail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#GFree"><span class="id" title="constructor">GFree</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#GFree"><span class="id" title="constructor">GFree</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Term:15"><span class="id" title="definition">traverse_Term</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:12"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:13"><span class="id" title="variable">l</span></a> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Assumption:&nbsp;we&nbsp;only&nbsp;receive&nbsp;one&nbsp;value&nbsp;in&nbsp;the&nbsp;message&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MailboxTypes.Syntax.html#GReceive"><span class="id" title="constructor">GReceive</span></a> <span class="id" title="var">m</span> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#GReceive"><span class="id" title="constructor">GReceive</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Term:15"><span class="id" title="definition">traverse_Term</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:12"><span class="id" title="variable">f</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:13"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>2) <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Traverse_Value_Value" class="idref" href="#Traverse_Value_Value"><span class="id" title="instance">Traverse_Value_Value</span></a> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#Traverse"><span class="id" title="class">Traverse</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> := <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Traverse_Value_Term" class="idref" href="#Traverse_Value_Term"><span class="id" title="instance">Traverse_Value_Term</span></a> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#Traverse"><span class="id" title="class">Traverse</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> := <a class="idref" href="MailboxTypes.Substitution.html#traverse_Term"><span class="id" title="definition">traverse_Term</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Traverse_Value_Guard" class="idref" href="#Traverse_Value_Guard"><span class="id" title="instance">Traverse_Value_Guard</span></a> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#Traverse"><span class="id" title="class">Traverse</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Guard"><span class="id" title="inductive">Guard</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> := <a class="idref" href="MailboxTypes.Substitution.html#traverse_Guard"><span class="id" title="definition">traverse_Guard</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseVarInjective_Value" class="idref" href="#TraverseVarInjective_Value"><span class="id" title="instance">TraverseVarInjective_Value</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseVarInjective"><span class="id" title="class">TraverseVarInjective</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">prove_traverse_var_injective</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Guards_injective" class="idref" href="#traverse_Guards_injective"><span class="id" title="lemma">traverse_Guards_injective</span></a> : <span class="id" title="keyword">forall</span> (<a id="l1:19" class="idref" href="#l1:19"><span class="id" title="binder">l1</span></a> <a id="l2:20" class="idref" href="#l2:20"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Guard"><span class="id" title="inductive">Guard</span></a>) <a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Guard"><span class="id" title="definition">traverse_Guard</span></a> (<span class="id" title="keyword">fun</span> <a id="l:23" class="idref" href="#l:23"><span class="id" title="binder">l</span></a> <a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:23"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:24"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#n:22"><span class="id" title="variable">n</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#l1:19"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Guard"><span class="id" title="definition">traverse_Guard</span></a> (<span class="id" title="keyword">fun</span> <a id="l:25" class="idref" href="#l:25"><span class="id" title="binder">l</span></a> <a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:25"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:26"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#n:22"><span class="id" title="variable">n</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#l2:20"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="x1:27" class="idref" href="#x1:27"><span class="id" title="binder">x1</span></a> <a id="x2:28" class="idref" href="#x2:28"><span class="id" title="binder">x2</span></a> <a id="l:29" class="idref" href="#l:29"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:29"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:27"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:29"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:28"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:27"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:28"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="f:30" class="idref" href="#f:30"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="x1:31" class="idref" href="#x1:31"><span class="id" title="binder">x1</span></a> <a id="x2:32" class="idref" href="#x2:32"><span class="id" title="binder">x2</span></a> <a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:31"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:32"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:31"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:32"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="t1:34" class="idref" href="#t1:34"><span class="id" title="binder">t1</span></a> <a id="t2:35" class="idref" href="#t2:35"><span class="id" title="binder">t2</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Guard"><span class="id" title="inductive">Guard</span></a>) (<a id="l:36" class="idref" href="#l:36"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:36"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:34"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:36"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:35"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:34"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:35"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#l1:19"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l2:20"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>, <span class="id" title="var">l2</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">MapInj</span> ? <span class="id" title="var">TravInj</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">reflexivity</span> || <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">MapInj</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">Inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">TravInj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Inj</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl1</span>); <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prove_traverse_var_injective</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t1</span> := <span class="id" title="tactic">fresh</span> "t1" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">t1</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t2</span> := <span class="id" title="tactic">fresh</span> "t2" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t2</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="tactic">fresh</span> "h" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var_injective"><span class="id" title="method">traverse_var_injective</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;lemma&nbsp;<span class="inlinecode"><span class="id" title="var">traverse_var_injective</span></span>&nbsp;can&nbsp;be&nbsp;useful&nbsp;if&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">traverse</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;at&nbsp;hand&nbsp;calls&nbsp;another&nbsp;<span class="inlinecode"><span class="id" title="var">traverse</span></span>&nbsp;function&nbsp;which&nbsp;has&nbsp;already<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;been&nbsp;proved&nbsp;injective.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Value_injective" class="idref" href="#traverse_Value_injective"><span class="id" title="lemma">traverse_Value_injective</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="x1:38" class="idref" href="#x1:38"><span class="id" title="binder">x1</span></a> <a id="x2:39" class="idref" href="#x2:39"><span class="id" title="binder">x2</span></a> <a id="l:40" class="idref" href="#l:40"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:40"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:38"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:40"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:39"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:38"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:39"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="v1:41" class="idref" href="#v1:41"><span class="id" title="binder">v1</span></a> <a id="v2:42" class="idref" href="#v2:42"><span class="id" title="binder">v2</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) (<a id="l:43" class="idref" href="#l:43"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:43"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:41"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:43"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:42"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:41"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:42"><span class="id" title="variable">v2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">v1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v1</span>, <span class="id" title="var">v2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">InjV</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">InjV</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Term_injective" class="idref" href="#traverse_Term_injective"><span class="id" title="lemma">traverse_Term_injective</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:44" class="idref" href="#f:44"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="inj:48" class="idref" href="#inj:48"><span class="id" title="binder">inj</span></a> : (<span class="id" title="keyword">forall</span> <a id="x1:45" class="idref" href="#x1:45"><span class="id" title="binder">x1</span></a> <a id="x2:46" class="idref" href="#x2:46"><span class="id" title="binder">x2</span></a> <a id="l:47" class="idref" href="#l:47"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:47"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:45"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:47"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:46"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x1:45"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x2:46"><span class="id" title="variable">x2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t1:49" class="idref" href="#t1:49"><span class="id" title="binder">t1</span></a> <a id="t2:50" class="idref" href="#t2:50"><span class="id" title="binder">t2</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a>) (<a id="l:51" class="idref" href="#l:51"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:51"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:49"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:51"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:50"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:49"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:50"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.Syntax.html#Term_ind3"><span class="id" title="definition">Term_ind3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">PG</span> := <span class="id" title="keyword">fun</span> <a id="g1:52" class="idref" href="#g1:52"><span class="id" title="binder"><span id="g1:55" class="id">g1</span></span></a> =&gt; <span class="id" title="keyword">forall</span> (<a id="g2:53" class="idref" href="#g2:53"><span class="id" title="binder"><span id="g2:56" class="id">g2</span></span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Guard"><span class="id" title="inductive">Guard</span></a>) (<a id="l:54" class="idref" href="#l:54"><span class="id" title="binder"><span id="l:57" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#l:54"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:52"><span class="id" title="variable">g1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_var"><span class="id" title="abbreviation">traverse_var</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#l:54"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g2:53"><span class="id" title="variable">g2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:52"><span class="id" title="variable">g1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g2:53"><span class="id" title="variable">g2</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t2</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Inj</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Inj</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_injective"><span class="id" title="lemma">traverse_Value_injective</span></a>; <span class="id" title="var">eassumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> ((<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt1</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt1_1</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt1_2</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">gs</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eql</span> <span class="id" title="var">mTrav</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mTrav</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">List.map_eq_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mTrav</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mTrav</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">List.map_eq_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mTrav</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mTrav</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">g'</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">Eq</span> [<span class="id" title="var">Eq2</span> <span class="id" title="var">Eq3</span>]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">g2</span> := <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHgs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseVarInjective_Term" class="idref" href="#TraverseVarInjective_Term"><span class="id" title="instance">TraverseVarInjective_Term</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseVarInjective"><span class="id" title="class">TraverseVarInjective</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Term_injective"><span class="id" title="lemma">traverse_Term_injective</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Value_functorial" class="idref" href="#traverse_Value_functorial"><span class="id" title="lemma">traverse_Value_functorial</span></a> : <span class="id" title="keyword">forall</span> <a id="f:58" class="idref" href="#f:58"><span class="id" title="binder">f</span></a> <a id="g:59" class="idref" href="#g:59"><span class="id" title="binder">g</span></a> (<a id="v:60" class="idref" href="#v:60"><span class="id" title="binder">v</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="l:61" class="idref" href="#l:61"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:59"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:61"><span class="id" title="variable">l</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:58"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:61"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:60"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> (<span class="id" title="keyword">fun</span> <a id="l:62" class="idref" href="#l:62"><span class="id" title="binder">l</span></a> <a id="x:63" class="idref" href="#x:63"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:59"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:62"><span class="id" title="variable">l</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#f:58"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:62"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:63"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#l:61"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:60"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prove_traverse_functorial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Term_functorial" class="idref" href="#traverse_Term_functorial"><span class="id" title="lemma">traverse_Term_functorial</span></a> : <span class="id" title="keyword">forall</span> <a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a> <a id="g:65" class="idref" href="#g:65"><span class="id" title="binder">g</span></a> (<a id="t:66" class="idref" href="#t:66"><span class="id" title="binder">t</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a>) <a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:65"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:67"><span class="id" title="variable">l</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:66"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> (<span class="id" title="keyword">fun</span> <a id="l:68" class="idref" href="#l:68"><span class="id" title="binder">l</span></a> <a id="x:69" class="idref" href="#x:69"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:65"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:68"><span class="id" title="variable">l</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:68"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:69"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:66"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.Syntax.html#Term_ind3"><span class="id" title="definition">Term_ind3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">PG</span> := <span class="id" title="keyword">fun</span> <a id="g1:70" class="idref" href="#g1:70"><span class="id" title="binder"><span id="g1:74" class="id">g1</span></span></a> =&gt; <span class="id" title="keyword">forall</span> (<a id="l:71" class="idref" href="#l:71"><span class="id" title="binder"><span id="l:75" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">g</span> <a class="idref" href="MailboxTypes.Substitution.html#l:71"><span class="id" title="variable">l</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#l:71"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:70"><span class="id" title="variable">g1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> (<span class="id" title="keyword">fun</span> <a id="l:72" class="idref" href="#l:72"><span class="id" title="binder"><span id="l:76" class="id">l</span></span></a> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder"><span id="x:77" class="id">x</span></span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">g</span> <a class="idref" href="MailboxTypes.Substitution.html#l:72"><span class="id" title="variable">l</span></a> (<span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#l:72"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:73"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#l:71"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:70"><span class="id" title="variable">g1</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_functorial"><span class="id" title="lemma">traverse_Value_functorial</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">gs</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">Eq</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHgs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseFunctorial_Value" class="idref" href="#TraverseFunctorial_Value"><span class="id" title="instance">TraverseFunctorial_Value</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseFunctorial"><span class="id" title="class">TraverseFunctorial</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_functorial"><span class="id" title="lemma">traverse_Value_functorial</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseFunctorial_Term" class="idref" href="#TraverseFunctorial_Term"><span class="id" title="instance">TraverseFunctorial_Term</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseFunctorial"><span class="id" title="class">TraverseFunctorial</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Term_functorial"><span class="id" title="lemma">traverse_Term_functorial</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseIdentifiesVar_Value" class="idref" href="#TraverseIdentifiesVar_Value"><span class="id" title="instance">TraverseIdentifiesVar_Value</span></a> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseIdentifiesVar"><span class="id" title="class">TraverseIdentifiesVar</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">prove_traverse_identifies_var</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Value_relative" class="idref" href="#traverse_Value_relative"><span class="id" title="lemma">traverse_Value_relative</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:78" class="idref" href="#f:78"><span class="id" title="binder">f</span></a> <a id="g:79" class="idref" href="#g:79"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) (<a id="p:80" class="idref" href="#p:80"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:81" class="idref" href="#v:81"><span class="id" title="binder">v</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) (<a id="m:82" class="idref" href="#m:82"><span class="id" title="binder">m</span></a> <a id="l:83" class="idref" href="#l:83"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l':84" class="idref" href="#l':84"><span class="id" title="binder">l'</span></a> <a id="x:85" class="idref" href="#x:85"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:78"><span class="id" title="variable">f</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l':84"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:80"><span class="id" title="variable">p</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#x:85"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:79"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l':84"><span class="id" title="variable">l'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:85"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#m:82"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:83"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#m:82"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:81"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:79"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:83"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:81"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span> <span class="id" title="var">natEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">natEq</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Term_relative" class="idref" href="#traverse_Term_relative"><span class="id" title="lemma">traverse_Term_relative</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:86" class="idref" href="#f:86"><span class="id" title="binder">f</span></a> <a id="g:87" class="idref" href="#g:87"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) (<a id="p:88" class="idref" href="#p:88"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a>) (<a id="m:90" class="idref" href="#m:90"><span class="id" title="binder">m</span></a> <a id="l:91" class="idref" href="#l:91"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l':92" class="idref" href="#l':92"><span class="id" title="binder">l'</span></a> <a id="x:93" class="idref" href="#x:93"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:86"><span class="id" title="variable">f</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l':92"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:88"><span class="id" title="variable">p</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#x:93"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l':92"><span class="id" title="variable">l'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:93"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#m:90"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:91"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:88"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:86"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#m:90"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:91"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:89"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.Syntax.html#Term_ind3"><span class="id" title="definition">Term_ind3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">PG</span> := <span class="id" title="keyword">fun</span> <a id="g1:94" class="idref" href="#g1:94"><span class="id" title="binder"><span id="g1:99" class="id">g1</span></span></a> =&gt; <span class="id" title="keyword">forall</span> (<a id="m:95" class="idref" href="#m:95"><span class="id" title="binder"><span id="m:100" class="id">m</span></span></a> <a id="l:96" class="idref" href="#l:96"><span class="id" title="binder"><span id="l:101" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l':97" class="idref" href="#l':97"><span class="id" title="binder"><span id="l':102" class="id">l'</span></span></a> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder"><span id="x:103" class="id">x</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <span class="id" title="var">f</span> (<a class="idref" href="MailboxTypes.Substitution.html#l':97"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">p</span>) <a class="idref" href="MailboxTypes.Substitution.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">g</span> <a class="idref" href="MailboxTypes.Substitution.html#l':97"><span class="id" title="variable">l'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:98"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:96"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:94"><span class="id" title="variable">g1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">g</span> <a class="idref" href="MailboxTypes.Substitution.html#l:96"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:94"><span class="id" title="variable">g1</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span> <span class="id" title="var">natEq</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_relative"><span class="id" title="lemma">traverse_Value_relative</span></a>; <span class="id" title="var">eassumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assumption</span> || <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">gs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">EqInd</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">EqInd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHgs</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseRelative_Value" class="idref" href="#TraverseRelative_Value"><span class="id" title="instance">TraverseRelative_Value</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseRelative"><span class="id" title="class">TraverseRelative</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_relative"><span class="id" title="lemma">traverse_Value_relative</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseRelative_Term" class="idref" href="#TraverseRelative_Term"><span class="id" title="instance">TraverseRelative_Term</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseRelative"><span class="id" title="class">TraverseRelative</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Term_relative"><span class="id" title="lemma">traverse_Term_relative</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Value_identity" class="idref" href="#traverse_Value_identity"><span class="id" title="lemma">traverse_Value_identity</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:104" class="idref" href="#f:104"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l:105" class="idref" href="#l:105"><span class="id" title="binder">l</span></a> <a id="x:106" class="idref" href="#x:106"><span class="id" title="binder">x</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:104"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:105"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#var"><span class="id" title="method">var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:106"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="v:107" class="idref" href="#v:107"><span class="id" title="binder">v</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a>) <a id="l:108" class="idref" href="#l:108"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:104"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:107"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:107"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="traverse_Term_identity" class="idref" href="#traverse_Term_identity"><span class="id" title="lemma">traverse_Term_identity</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:109" class="idref" href="#f:109"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l:110" class="idref" href="#l:110"><span class="id" title="binder">l</span></a> <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a>, <a class="idref" href="MailboxTypes.Substitution.html#f:109"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:110"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#var"><span class="id" title="method">var</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:111"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="t:112" class="idref" href="#t:112"><span class="id" title="binder">t</span></a> : <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a>) <a id="l:113" class="idref" href="#l:113"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:109"><span class="id" title="variable">f</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:113"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:112"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [| | | | | | ? ? ? <span class="id" title="var">Fs</span> | | | ] <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.Syntax.html#Term_ind3"><span class="id" title="definition">Term_ind3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">PG</span> := <span class="id" title="keyword">fun</span> <a id="g1:114" class="idref" href="#g1:114"><span class="id" title="binder"><span id="g1:116" class="id">g1</span></span></a> =&gt; <span class="id" title="keyword">forall</span> (<a id="l:115" class="idref" href="#l:115"><span class="id" title="binder"><span id="l:117" class="id">l</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse"><span class="id" title="method">traverse</span></a> <span class="id" title="var">f</span> <a class="idref" href="MailboxTypes.Substitution.html#l:115"><span class="id" title="variable">l</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:114"><span class="id" title="variable">g1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g1:114"><span class="id" title="variable">g1</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_identity"><span class="id" title="lemma">traverse_Value_identity</span></a>; <span class="id" title="var">eassumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assumption</span> || <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">gs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Fs</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">EqInd</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EqInd</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHgs</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseVarIsIdentity_Value" class="idref" href="#TraverseVarIsIdentity_Value"><span class="id" title="instance">TraverseVarIsIdentity_Value</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseVarIsIdentity"><span class="id" title="class">TraverseVarIsIdentity</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Value_identity"><span class="id" title="lemma">traverse_Value_identity</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="TraverseVarIsIdentity_Term" class="idref" href="#TraverseVarIsIdentity_Term"><span class="id" title="instance">TraverseVarIsIdentity_Term</span></a> : @<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#TraverseVarIsIdentity"><span class="id" title="class">TraverseVarIsIdentity</span></a> <a class="idref" href="MailboxTypes.Syntax.html#Value"><span class="id" title="inductive">Value</span></a> <span class="id" title="var">_</span> <a class="idref" href="MailboxTypes.Syntax.html#Term"><span class="id" title="inductive">Term</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#traverse_Term_identity"><span class="id" title="lemma">traverse_Term_identity</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;argument:&nbsp;Value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Second&nbsp;argument:&nbsp;Variable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Third&nbsp;argument:&nbsp;Term&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*Type&nbsp;@subst&nbsp;Value&nbsp;Term.*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_TValue_Un" class="idref" href="#WellTypedTerm_TValue_Un"><span class="id" title="lemma">WellTypedTerm_TValue_Un</span></a> : <span class="id" title="keyword">forall</span> <a id="p:118" class="idref" href="#p:118"><span class="id" title="binder">p</span></a> <a id="env:119" class="idref" href="#env:119"><span class="id" title="binder">env</span></a> <a id="v:120" class="idref" href="#v:120"><span class="id" title="binder">v</span></a> <a id="T:121" class="idref" href="#T:121"><span class="id" title="binder">T</span></a> <a id="T':122" class="idref" href="#T':122"><span class="id" title="binder">T'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:118"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:119"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:120"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:121"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#T:121"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':122"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Types.html#Unrestricted"><span class="id" title="inductive">Unrestricted</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':122"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env':123" class="idref" href="#env':123"><span class="id" title="binder">env'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv"><span class="id" title="definition">EmptyEnv</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env':123"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:119"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Environment.html#02646f3c0eda21d78eccefe79f1b4b6b"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env':123"><span class="id" title="variable">env'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">T'</span> <span class="id" title="var">v</span> <span class="id" title="var">HeqV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span> <span class="id" title="var">Sub</span> <span class="id" title="var">Un</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">exists</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#env"><span class="id" title="definition">env</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_refl"><span class="id" title="lemma">EnvironmentSubtype_refl</span></a>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvSubtypeTrans"><span class="id" title="constructor">EnvSubtypeTrans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env2</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">T'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_EmptyEnv_None"><span class="id" title="lemma">lookup_EmptyEnv_None</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHx</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">Empty'</span> <span class="id" title="var">Sub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">EmptyTl</span> : <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv"><span class="id" title="definition">EmptyEnv</span></a> (<span class="id" title="definition">tl</span> <span class="id" title="var">env</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">env</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_EmptyEnv_insert_Un"><span class="id" title="lemma">EnvironmentSubtype_EmptyEnv_insert_Un</span></a> (<span class="id" title="definition">tl</span> <span class="id" title="var">env</span>) <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span> <span class="id" title="var">Sub</span> <span class="id" title="var">Un</span> <span class="id" title="var">EmptyTl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">SubE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">T</span> (<span class="id" title="definition">tl</span> <span class="id" title="var">env</span>))); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Sub</span>) <span class="id" title="var">Un</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">Empty'</span> <span class="id" title="var">Sub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">env'</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#EnvSubtypeTrans"><span class="id" title="constructor">EnvSubtypeTrans</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_TValue_lookup" class="idref" href="#WellTypedTerm_TValue_lookup"><span class="id" title="lemma">WellTypedTerm_TValue_lookup</span></a> : <span class="id" title="keyword">forall</span> <a id="p:124" class="idref" href="#p:124"><span class="id" title="binder">p</span></a> <a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a> <a id="T:126" class="idref" href="#T:126"><span class="id" title="binder">T</span></a> <a id="env:127" class="idref" href="#env:127"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:124"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:127"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:125"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#T:126"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="T':128" class="idref" href="#T':128"><span class="id" title="binder">T'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:127"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':128"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':128"><span class="id" title="variable">T'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:126"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#weak_ValueVar_2"><span class="id" title="lemma">weak_ValueVar_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Sub</span> [<span class="id" title="var">Empty</span> [<span class="id" title="var">EnvSub</span> <span class="id" title="var">WT</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_right_inv"><span class="id" title="lemma">EnvironmentSubtype_insert_right_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">EnvSub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">Sub'</span> -&gt;]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">T''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#lookup_insert_bingo"><span class="id" title="lemma">lookup_insert_bingo</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_TValue_insert_None_eq" class="idref" href="#WellTypedTerm_TValue_insert_None_eq"><span class="id" title="lemma">WellTypedTerm_TValue_insert_None_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="p:129" class="idref" href="#p:129"><span class="id" title="binder">p</span></a> <a id="env:130" class="idref" href="#env:130"><span class="id" title="binder">env</span></a> <a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a> <a id="T:132" class="idref" href="#T:132"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:129"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:130"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:131"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#T:132"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#weak_ValueVar_2"><span class="id" title="lemma">weak_ValueVar_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Sub</span> [<span class="id" title="var">Empty</span> [<span class="id" title="var">EnvSub</span> <span class="id" title="var">WT</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_None_Some"><span class="id" title="lemma">EnvironmentSubtype_insert_None_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_TValue_insert_None_gt" class="idref" href="#WellTypedTerm_TValue_insert_None_gt"><span class="id" title="lemma">WellTypedTerm_TValue_insert_None_gt</span></a> : <span class="id" title="keyword">forall</span> <a id="p:133" class="idref" href="#p:133"><span class="id" title="binder">p</span></a> <a id="env:134" class="idref" href="#env:134"><span class="id" title="binder">env</span></a> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> <a id="v:136" class="idref" href="#v:136"><span class="id" title="binder">v</span></a> <a id="T:137" class="idref" href="#T:137"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:133"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:134"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:136"><span class="id" title="variable">v</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#T:137"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:136"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:133"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:134"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#v:136"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))) <a class="idref" href="MailboxTypes.Substitution.html#T:137"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span> <span class="id" title="var">Gt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#weak_ValueVar_2"><span class="id" title="lemma">weak_ValueVar_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Sub</span> [<span class="id" title="var">Empty</span> [<span class="id" title="var">EnvSub</span> <span class="id" title="var">WT'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_raw_insert_insert'"><span class="id" title="lemma">EnvironmentSubtype_raw_insert_insert'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Empty</span> <span class="id" title="var">EnvSub</span> <span class="id" title="var">Gt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Empty'</span> <span class="id" title="var">EnvSub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_TValue_raw_insert_None" class="idref" href="#WellTypedTerm_TValue_raw_insert_None"><span class="id" title="lemma">WellTypedTerm_TValue_raw_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:138" class="idref" href="#p:138"><span class="id" title="binder">p</span></a> <a id="env:139" class="idref" href="#env:139"><span class="id" title="binder">env</span></a> <a id="v:140" class="idref" href="#v:140"><span class="id" title="binder">v</span></a> <a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a> <a id="T:142" class="idref" href="#T:142"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:138"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:139"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:140"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:142"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:138"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:139"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:140"><span class="id" title="variable">v</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#T:142"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">HeqV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv_raw_insert_None"><span class="id" title="lemma">EmptyEnv_raw_insert_None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqV</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Compare_dec.le_gt_dec</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_idx_old"><span class="id" title="lemma">lift_idx_old</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#VAR"><span class="id" title="constructor">VAR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv_raw_insert_None"><span class="id" title="lemma">EmptyEnv_raw_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#VAR"><span class="id" title="constructor">VAR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv_raw_insert_None"><span class="id" title="lemma">EmptyEnv_raw_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert"><span class="id" title="lemma">EnvironmentSubtype_insert</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_TLet" class="idref" href="#shift_TLet"><span class="id" title="lemma">shift_TLet</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:143" class="idref" href="#t1:143"><span class="id" title="binder">t1</span></a> <a id="t2:144" class="idref" href="#t2:144"><span class="id" title="binder">t2</span></a> <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:145"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:143"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:144"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:143"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:145"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#t2:144"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="keyword">forall</span> <a id="l:146" class="idref" href="#l:146"><span class="id" title="binder"><span id="l:148" class="id">l</span></span></a> <a id="x0:147" class="idref" href="#x0:147"><span class="id" title="binder"><span id="x0:149" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:146"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:147"><span class="id" title="variable">x0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:146"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:147"><span class="id" title="variable">x0</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_relative"><span class="id" title="method">traverse_relative</span></a> (<span class="id" title="keyword">fun</span> <a id="l:152" class="idref" href="#l:152"><span class="id" title="binder"><span id="l:156" class="id">l</span></span></a> <a id="x0:153" class="idref" href="#x0:153"><span class="id" title="binder"><span id="x0:157" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:153"><span class="id" title="variable">x0</span></a>)) (<span class="id" title="keyword">fun</span> <a id="l:150" class="idref" href="#l:150"><span class="id" title="binder"><span id="l:154" class="id">l</span></span></a> <a id="x0:151" class="idref" href="#x0:151"><span class="id" title="binder"><span id="x0:155" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:150"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:151"><span class="id" title="variable">x0</span></a>)) 1 <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> 1 0); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WellTypedTerm_raw_insert_None" class="idref" href="#WellTypedTerm_raw_insert_None"><span class="id" title="lemma">WellTypedTerm_raw_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a> <a id="env:159" class="idref" href="#env:159"><span class="id" title="binder">env</span></a> <a id="t:160" class="idref" href="#t:160"><span class="id" title="binder">t</span></a> <a id="x:161" class="idref" href="#x:161"><span class="id" title="binder">x</span></a> <a id="T:162" class="idref" href="#T:162"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:159"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:160"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:162"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:158"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:159"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:160"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:162"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm_ind3"><span class="id" title="definition">WellTypedTerm_ind3</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P0</span> := <span class="id" title="keyword">fun</span> <a id="env:163" class="idref" href="#env:163"><span class="id" title="binder"><span id="env:175" class="id">env</span></span></a> <a id="gs:164" class="idref" href="#gs:164"><span class="id" title="binder"><span id="gs:176" class="id">gs</span></span></a> <a id="T:165" class="idref" href="#T:165"><span class="id" title="binder"><span id="T:177" class="id">T</span></span></a> <a id="E:166" class="idref" href="#E:166"><span class="id" title="binder"><span id="E:178" class="id">E</span></span></a> (<a id="WG:167" class="idref" href="#WG:167"><span class="id" title="binder"><span id="WG:179" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:163"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Substitution.html#gs:164"><span class="id" title="variable">gs</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:165"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:166"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="x:168" class="idref" href="#x:168"><span class="id" title="binder"><span id="x:180" class="id">x</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:168"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:163"><span class="id" title="variable">env</span></a>) (<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:168"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#gs:164"><span class="id" title="variable">gs</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:165"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:166"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P1</span> := <span class="id" title="keyword">fun</span> <a id="env:169" class="idref" href="#env:169"><span class="id" title="binder"><span id="env:181" class="id">env</span></span></a> <a id="g:170" class="idref" href="#g:170"><span class="id" title="binder"><span id="g:182" class="id">g</span></span></a> <a id="T:171" class="idref" href="#T:171"><span class="id" title="binder"><span id="T:183" class="id">T</span></span></a> <a id="E:172" class="idref" href="#E:172"><span class="id" title="binder"><span id="E:184" class="id">E</span></span></a> (<a id="WG:173" class="idref" href="#WG:173"><span class="id" title="binder"><span id="WG:185" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:169"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:170"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:171"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:172"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="x:174" class="idref" href="#x:174"><span class="id" title="binder"><span id="x:186" class="id">x</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:169"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:170"><span class="id" title="variable">g</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:171"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:172"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">WT'</span> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">env</span>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <span class="id" title="var">x</span>)) <span class="id" title="var">T</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_raw_insert_None"><span class="id" title="lemma">WellTypedTerm_TValue_raw_insert_None</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">env</span>) (<a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">x0</span> <span class="id" title="var">T</span> <span class="id" title="var">WT'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">x</span>); <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#shift_TLet"><span class="id" title="lemma">shift_TLet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env2</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;new&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SPAWN"><span class="id" title="constructor">SPAWN</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">x</span>); <span class="id" title="var">now</span> <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv_raw_insert_None"><span class="id" title="lemma">EmptyEnv_raw_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT1</span> <span class="id" title="var">x</span>); <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">WT'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvDis_insert_None"><span class="id" title="lemma">EnvDis_insert_None</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT2</span> <span class="id" title="var">x</span>); <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">WT'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">WT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;:&nbsp;Continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_insert_TValue_None" class="idref" href="#subst_insert_TValue_None"><span class="id" title="lemma">subst_insert_TValue_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a> <a id="env:188" class="idref" href="#env:188"><span class="id" title="binder">env</span></a> <a id="v1:189" class="idref" href="#v1:189"><span class="id" title="binder">v1</span></a> <a id="v2:190" class="idref" href="#v2:190"><span class="id" title="binder">v2</span></a> <a id="x:191" class="idref" href="#x:191"><span class="id" title="binder">x</span></a> <a id="T:192" class="idref" href="#T:192"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:187"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:188"><span class="id" title="variable">env</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:189"><span class="id" title="variable">v1</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:192"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:188"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:190"><span class="id" title="variable">v2</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:191"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:189"><span class="id" title="variable">v1</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#T:192"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#canonical_form_BTBool"><span class="id" title="lemma">canonical_form_BTBool</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>); <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#weak_BTBool_2"><span class="id" title="lemma">weak_BTBool_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_EmptyEnv_insert_None"><span class="id" title="lemma">EnvironmentSubtype_EmptyEnv_insert_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">EnvSub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Empty'</span> <span class="id" title="var">Sub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#canonical_form_BTUnit"><span class="id" title="lemma">canonical_form_BTUnit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>); <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#weak_BTUnit_2"><span class="id" title="lemma">weak_BTUnit_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_EmptyEnv_insert_None"><span class="id" title="lemma">EnvironmentSubtype_EmptyEnv_insert_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EnvSub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">EnvSub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Empty'</span> <span class="id" title="var">Sub'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a>; <span class="id" title="var">dblib_by_cases</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm_TValue_insert_None_le"><span class="id" title="lemma">WellTypedTerm_TValue_insert_None_le</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_insert_None_eq"><span class="id" title="lemma">WellTypedTerm_TValue_insert_None_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_insert_None_gt"><span class="id" title="lemma">WellTypedTerm_TValue_insert_None_gt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_TLet" class="idref" href="#subst_TLet"><span class="id" title="lemma">subst_TLet</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:193" class="idref" href="#t1:193"><span class="id" title="binder">t1</span></a> <a id="t2:194" class="idref" href="#t2:194"><span class="id" title="binder">t2</span></a> <a id="v:195" class="idref" href="#v:195"><span class="id" title="binder">v</span></a> <a id="x:196" class="idref" href="#x:196"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:195"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:196"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:193"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:194"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TLet"><span class="id" title="constructor">TLet</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:195"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:193"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> 0 <a class="idref" href="MailboxTypes.Substitution.html#v:195"><span class="id" title="variable">v</span></a>) (1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:196"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#t2:194"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_relative"><span class="id" title="method">traverse_relative</span></a> (<span class="id" title="keyword">fun</span> <a id="l:201" class="idref" href="#l:201"><span class="id" title="binder"><span id="l:207" class="id">l</span></span></a> <a id="x0:202" class="idref" href="#x0:202"><span class="id" title="binder"><span id="x0:208" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:201"><span class="id" title="variable">l</span></a> 0 <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Substitution.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:202"><span class="id" title="variable">x0</span></a>) (<span class="id" title="keyword">fun</span> <a id="l:197" class="idref" href="#l:197"><span class="id" title="binder"><span id="l:203" class="id">l</span></span></a> <a id="x0:198" class="idref" href="#x0:198"><span class="id" title="binder"><span id="x0:204" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:197"><span class="id" title="variable">l</span></a> 0 (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> (<span class="id" title="keyword">fun</span> <a id="l':199" class="idref" href="#l':199"><span class="id" title="binder"><span id="l':205" class="id">l'</span></span></a> <a id="x0':200" class="idref" href="#x0':200"><span class="id" title="binder"><span id="x0':206" class="id">x0'</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l':199"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0':200"><span class="id" title="variable">x0'</span></a>)) 0 <span class="id" title="var">v</span>)) (<a class="idref" href="MailboxTypes.Substitution.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:198"><span class="id" title="variable">x0</span></a>) 1 <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> : <span class="id" title="keyword">forall</span> <a id="l:209" class="idref" href="#l:209"><span class="id" title="binder"><span id="l:213" class="id">l</span></span></a> <a id="y:210" class="idref" href="#y:210"><span class="id" title="binder"><span id="y:214" class="id">y</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) 0 <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Substitution.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#y:210"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:209"><span class="id" title="variable">l</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> (<span class="id" title="keyword">fun</span> <a id="l0:211" class="idref" href="#l0:211"><span class="id" title="binder"><span id="l0:215" class="id">l0</span></span></a> <a id="x0:212" class="idref" href="#x0:212"><span class="id" title="binder"><span id="x0:216" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l0:211"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:212"><span class="id" title="variable">x0</span></a>)) 0 <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MailboxTypes.Substitution.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#y:210"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">simpl_lift_goal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a>. <span class="id" title="var">dblib_by_cases</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_functorial"><span class="id" title="method">traverse_functorial</span></a> (<span class="id" title="keyword">fun</span> <a id="l0:219" class="idref" href="#l0:219"><span class="id" title="binder"><span id="l0:223" class="id">l0</span></span></a> <a id="x0:220" class="idref" href="#x0:220"><span class="id" title="binder"><span id="x0:224" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l0:219"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:220"><span class="id" title="variable">x0</span></a>)) (<span class="id" title="keyword">fun</span> <a id="l0:217" class="idref" href="#l0:217"><span class="id" title="binder"><span id="l0:221" class="id">l0</span></span></a> <a id="x0:218" class="idref" href="#x0:218"><span class="id" title="binder"><span id="x0:222" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> (<a class="idref" href="MailboxTypes.Substitution.html#l0:217"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:218"><span class="id" title="variable">x0</span></a>)) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="l':225" class="idref" href="#l':225"><span class="id" title="binder"><span id="l':231" class="id">l'</span></span></a> <a id="x':226" class="idref" href="#x':226"><span class="id" title="binder"><span id="x':232" class="id">x'</span></span></a>, (<span class="id" title="keyword">fun</span> <a id="l0:227" class="idref" href="#l0:227"><span class="id" title="binder"><span id="l0:233" class="id">l0</span></span></a> <a id="x0:228" class="idref" href="#x0:228"><span class="id" title="binder"><span id="x0:234" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) (<a class="idref" href="MailboxTypes.Substitution.html#l0:227"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:228"><span class="id" title="variable">x0</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#l':225"><span class="id" title="variable">l'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x':226"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="keyword">fun</span> <a id="l0:229" class="idref" href="#l0:229"><span class="id" title="binder"><span id="l0:235" class="id">l0</span></span></a> <a id="x0:230" class="idref" href="#x0:230"><span class="id" title="binder"><span id="x0:236" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> (<a class="idref" href="MailboxTypes.Substitution.html#l0:229"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#shift"><span class="id" title="abbreviation">shift</span></a> (<a class="idref" href="MailboxTypes.Substitution.html#l0:229"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:230"><span class="id" title="variable">x0</span></a>))) <a class="idref" href="MailboxTypes.Substitution.html#l':225"><span class="id" title="variable">l'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x':226"><span class="id" title="variable">x'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#plus_n_O"><span class="id" title="lemma">plus_n_O</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_lift_fuse_successor"><span class="id" title="lemma">lift_lift_fuse_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">PeanoNat.Nat.add_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_extensional"><span class="id" title="lemma">traverse_extensional</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">v</span> 0); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> 1 0 <span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_TSpawn" class="idref" href="#subst_TSpawn"><span class="id" title="lemma">subst_TSpawn</span></a> : <span class="id" title="keyword">forall</span> <a id="v:237" class="idref" href="#v:237"><span class="id" title="binder">v</span></a> <a id="x:238" class="idref" href="#x:238"><span class="id" title="binder">x</span></a> <a id="t:239" class="idref" href="#t:239"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:237"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:238"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:239"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TSpawn"><span class="id" title="constructor">TSpawn</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:237"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:238"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:239"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_TSend" class="idref" href="#subst_TSend"><span class="id" title="lemma">subst_TSend</span></a> : <span class="id" title="keyword">forall</span> <a id="t1:240" class="idref" href="#t1:240"><span class="id" title="binder">t1</span></a> <a id="t2:241" class="idref" href="#t2:241"><span class="id" title="binder">t2</span></a> <a id="v:242" class="idref" href="#v:242"><span class="id" title="binder">v</span></a> <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a> <a id="m:244" class="idref" href="#m:244"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:242"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:243"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:240"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#m:244"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:241"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TSend"><span class="id" title="constructor">TSend</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:242"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:243"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:240"><span class="id" title="variable">t1</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#m:244"><span class="id" title="variable">m</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:242"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:243"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t2:241"><span class="id" title="variable">t2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_GReceive" class="idref" href="#subst_GReceive"><span class="id" title="lemma">subst_GReceive</span></a> : <span class="id" title="keyword">forall</span> <a id="m:245" class="idref" href="#m:245"><span class="id" title="binder">m</span></a> <a id="t:246" class="idref" href="#t:246"><span class="id" title="binder">t</span></a> <a id="v:247" class="idref" href="#v:247"><span class="id" title="binder">v</span></a> <a id="x:248" class="idref" href="#x:248"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:247"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:248"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#GReceive"><span class="id" title="constructor">GReceive</span></a> <a class="idref" href="MailboxTypes.Substitution.html#m:245"><span class="id" title="variable">m</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:246"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#GReceive"><span class="id" title="constructor">GReceive</span></a> <a class="idref" href="MailboxTypes.Substitution.html#m:245"><span class="id" title="variable">m</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 0 <a class="idref" href="MailboxTypes.Substitution.html#v:247"><span class="id" title="variable">v</span></a>) (2 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:248"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#t:246"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_relative"><span class="id" title="method">traverse_relative</span></a> (<span class="id" title="keyword">fun</span> <a id="l:253" class="idref" href="#l:253"><span class="id" title="binder"><span id="l:259" class="id">l</span></span></a> <a id="x0:254" class="idref" href="#x0:254"><span class="id" title="binder"><span id="x0:260" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:253"><span class="id" title="variable">l</span></a> 0 <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Substitution.html#l:253"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MailboxTypes.Substitution.html#x0:254"><span class="id" title="variable">x0</span></a>) (<span class="id" title="keyword">fun</span> <a id="l:249" class="idref" href="#l:249"><span class="id" title="binder"><span id="l:255" class="id">l</span></span></a> <a id="x0:250" class="idref" href="#x0:250"><span class="id" title="binder"><span id="x0:256" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="MailboxTypes.Substitution.html#l:249"><span class="id" title="variable">l</span></a> 0 (<a class="idref" href="MailboxTypes.Substitution.html#traverse_Value"><span class="id" title="definition">traverse_Value</span></a> (<span class="id" title="keyword">fun</span> <a id="l':251" class="idref" href="#l':251"><span class="id" title="binder"><span id="l':257" class="id">l'</span></span></a> <a id="x0':252" class="idref" href="#x0':252"><span class="id" title="binder"><span id="x0':258" class="id">x0'</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 (<a class="idref" href="MailboxTypes.Substitution.html#l':251"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0':252"><span class="id" title="variable">x0'</span></a>)) 0 <span class="id" title="var">v</span>)) (<a class="idref" href="MailboxTypes.Substitution.html#l:249"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>)) <a class="idref" href="MailboxTypes.Substitution.html#x0:250"><span class="id" title="variable">x0</span></a>) 2 <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst_idx"><span class="id" title="definition">subst_idx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dblib_by_cases</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_functorial"><span class="id" title="method">traverse_functorial</span></a> (<span class="id" title="keyword">fun</span> <a id="l':263" class="idref" href="#l':263"><span class="id" title="binder"><span id="l':267" class="id">l'</span></span></a> <a id="x0':264" class="idref" href="#x0':264"><span class="id" title="binder"><span id="x0':268" class="id">x0'</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 (<a class="idref" href="MailboxTypes.Substitution.html#l':263"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0':264"><span class="id" title="variable">x0'</span></a>)) (<span class="id" title="keyword">fun</span> <a id="l0:261" class="idref" href="#l0:261"><span class="id" title="binder"><span id="l0:265" class="id">l0</span></span></a> <a id="x0:262" class="idref" href="#x0:262"><span class="id" title="binder"><span id="x0:266" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> (<a class="idref" href="MailboxTypes.Substitution.html#l0:261"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:262"><span class="id" title="variable">x0</span></a>)) <span class="id" title="var">v</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#traverse_relative"><span class="id" title="method">traverse_relative</span></a> (<span class="id" title="keyword">fun</span> <a id="l0:271" class="idref" href="#l0:271"><span class="id" title="binder"><span id="l0:275" class="id">l0</span></span></a> <a id="x0:272" class="idref" href="#x0:272"><span class="id" title="binder"><span id="x0:276" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2) (<a class="idref" href="MailboxTypes.Substitution.html#l0:271"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:272"><span class="id" title="variable">x0</span></a>)) (<span class="id" title="keyword">fun</span> <a id="l0:269" class="idref" href="#l0:269"><span class="id" title="binder"><span id="l0:273" class="id">l0</span></span></a> <a id="x0:270" class="idref" href="#x0:270"><span class="id" title="binder"><span id="x0:274" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> =&gt; <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> (<a class="idref" href="MailboxTypes.Substitution.html#l0:269"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 (<a class="idref" href="MailboxTypes.Substitution.html#l0:269"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:270"><span class="id" title="variable">x0</span></a>))) 0 <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Eq</span> 0 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> : <span class="id" title="keyword">forall</span> <a id="l0:277" class="idref" href="#l0:277"><span class="id" title="binder"><span id="l0:279" class="id">l0</span></span></a> <a id="x0:278" class="idref" href="#x0:278"><span class="id" title="binder"><span id="x0:280" class="id">x0</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2) (<a class="idref" href="MailboxTypes.Substitution.html#l0:277"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:278"><span class="id" title="variable">x0</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#ValueVar"><span class="id" title="constructor">ValueVar</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> (<a class="idref" href="MailboxTypes.Substitution.html#l0:277"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 (<a class="idref" href="MailboxTypes.Substitution.html#l0:277"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0) <a class="idref" href="MailboxTypes.Substitution.html#x0:278"><span class="id" title="variable">x0</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">x'</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#plus_n_O"><span class="id" title="lemma">plus_n_O</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Compare_dec.le_gt_dec</span> <span class="id" title="var">l'</span> <span class="id" title="var">x'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span> | <span class="id" title="var">L</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 <span class="id" title="var">l'</span> <span class="id" title="var">x'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">B</span> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> (2 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x'</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_idx_recent"><span class="id" title="lemma">lift_idx_recent</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 <span class="id" title="var">l'</span> <span class="id" title="var">x'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_idx_recent"><span class="id" title="lemma">lift_idx_recent</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">B</span> : <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">x'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_idx_recent"><span class="id" title="lemma">lift_idx_recent</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Eq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_TGuard" class="idref" href="#subst_TGuard"><span class="id" title="lemma">subst_TGuard</span></a> : <span class="id" title="keyword">forall</span> <a id="v1:281" class="idref" href="#v1:281"><span class="id" title="binder">v1</span></a> <a id="v2:282" class="idref" href="#v2:282"><span class="id" title="binder">v2</span></a> <a id="x:283" class="idref" href="#x:283"><span class="id" title="binder">x</span></a> <a id="e:284" class="idref" href="#e:284"><span class="id" title="binder">e</span></a> <a id="guards:285" class="idref" href="#guards:285"><span class="id" title="binder">guards</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:281"><span class="id" title="variable">v1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:283"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:282"><span class="id" title="variable">v2</span></a> <a class="idref" href="MailboxTypes.Substitution.html#e:284"><span class="id" title="variable">e</span></a> <a class="idref" href="MailboxTypes.Substitution.html#guards:285"><span class="id" title="variable">guards</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Syntax.html#TGuard"><span class="id" title="constructor">TGuard</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:281"><span class="id" title="variable">v1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:283"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:282"><span class="id" title="variable">v2</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#e:284"><span class="id" title="variable">e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">ListDef.map</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:281"><span class="id" title="variable">v1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:283"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#guards:285"><span class="id" title="variable">guards</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="secondEnvironment_raw_insert_None" class="idref" href="#secondEnvironment_raw_insert_None"><span class="id" title="lemma">secondEnvironment_raw_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="x:286" class="idref" href="#x:286"><span class="id" title="binder">x</span></a> <a id="env1:287" class="idref" href="#env1:287"><span class="id" title="binder">env1</span></a> <a id="env2:288" class="idref" href="#env2:288"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:287"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:286"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:288"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env2:288"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:288"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">env1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Environment.html#secondEnvironment_idem"><span class="id" title="lemma">secondEnvironment_idem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T1</span> <span class="id" title="var">env1'</span>], <span class="id" title="var">env2</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T2</span> <span class="id" title="var">env2'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Types.html#secondUsage_idem"><span class="id" title="lemma">secondUsage_idem</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="secondEnvironment_insert" class="idref" href="#secondEnvironment_insert"><span class="id" title="lemma">secondEnvironment_insert</span></a> : <span class="id" title="keyword">forall</span> <a id="x:289" class="idref" href="#x:289"><span class="id" title="binder">x</span></a> <a id="T:290" class="idref" href="#T:290"><span class="id" title="binder">T</span></a> <a id="env1:291" class="idref" href="#env1:291"><span class="id" title="binder">env1</span></a> <a id="env2:292" class="idref" href="#env2:292"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:291"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:289"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:290"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:292"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env2:292"><span class="id" title="variable">env2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:292"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:290"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Types.html#d95d6dcac2e02333213ccce92307e62e"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:290"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Types.html#d95d6dcac2e02333213ccce92307e62e"><span class="id" title="notation"></span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Environment.html#secondEnvironment_idem"><span class="id" title="lemma">secondEnvironment_idem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Types.html#secondUsage_idem"><span class="id" title="lemma">secondUsage_idem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T1</span> <span class="id" title="var">env1'</span>], <span class="id" title="var">env2</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T2</span> <span class="id" title="var">env2'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_nil"><span class="id" title="lemma">lookup_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MailboxTypes.Types.html#secondUsage_idem"><span class="id" title="lemma">secondUsage_idem</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="secondEnvironment_nil" class="idref" href="#secondEnvironment_nil"><span class="id" title="lemma">secondEnvironment_nil</span></a> : <span class="id" title="keyword">forall</span> <a id="env:293" class="idref" href="#env:293"><span class="id" title="binder">env</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:293"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:293"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">env</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="secondEnvironment_raw_insert_None_inv" class="idref" href="#secondEnvironment_raw_insert_None_inv"><span class="id" title="lemma">secondEnvironment_raw_insert_None_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="x:294" class="idref" href="#x:294"><span class="id" title="binder">x</span></a> <a id="env1:295" class="idref" href="#env1:295"><span class="id" title="binder">env1</span></a> <a id="env2:296" class="idref" href="#env2:296"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:295"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:294"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:296"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':297" class="idref" href="#env2':297"><span class="id" title="binder">env2'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:295"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:294"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2':297"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2':297"><span class="id" title="variable">env2'</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:296"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">env1</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T1</span> <span class="id" title="var">env1'</span>], <span class="id" title="var">env2</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T2</span> <span class="id" title="var">env2'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_nil"><span class="id" title="lemma">lookup_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Eq'</span> : <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <span class="id" title="var">env1'</span> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <span class="id" title="notation">[]</span> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Eq'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Eq1'</span> <span class="id" title="var">Eq2'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#secondEnvironment_nil"><span class="id" title="lemma">secondEnvironment_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq2'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="notation">[]</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_nil"><span class="id" title="lemma">lookup_nil</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">TEq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Eq1'</span> <span class="id" title="var">Eq2'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T1</span>, <span class="id" title="var">T2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>; <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">TEq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">TEq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="secondEnvironment_insert_inv" class="idref" href="#secondEnvironment_insert_inv"><span class="id" title="lemma">secondEnvironment_insert_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="x:298" class="idref" href="#x:298"><span class="id" title="binder">x</span></a> <a id="T:299" class="idref" href="#T:299"><span class="id" title="binder">T</span></a> <a id="env1:300" class="idref" href="#env1:300"><span class="id" title="binder">env1</span></a> <a id="env2:301" class="idref" href="#env2:301"><span class="id" title="binder">env2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:300"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:299"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:301"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="env2':302" class="idref" href="#env2':302"><span class="id" title="binder">env2'</span></a> <a id="T':303" class="idref" href="#T':303"><span class="id" title="binder">T'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:300"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':303"><span class="id" title="variable">T'</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2':302"><span class="id" title="variable">env2'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:299"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#T':303"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2':302"><span class="id" title="variable">env2'</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:301"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#b45f5777e87a3824c108430310326b5d"><span class="id" title="notation"></span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#secondEnvironment_insert"><span class="id" title="lemma">secondEnvironment_insert</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Eq</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">env1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>, <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*--&nbsp;now&nbsp;exists&nbsp;env1.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*--&nbsp;discriminate.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*--&nbsp;discriminate.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*--&nbsp;inversion&nbsp;Eq2;&nbsp;subst.*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*Lemma&nbsp;secondEnvironment_insert_inv&nbsp;:&nbsp;forall&nbsp;x&nbsp;T&nbsp;env1&nbsp;env2,*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;env1&nbsp;=&nbsp;insert&nbsp;x&nbsp;&nbsp;T&nbsp;&nbsp;&nbsp;env2&nbsp;&nbsp;-&gt;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;env1&nbsp;=&nbsp;&nbsp;env1&nbsp;.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*Proof.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;induction&nbsp;x;&nbsp;intros&nbsp;*&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;-&nbsp;rewrite&nbsp;raw_insert_zero&nbsp;in&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;env1&nbsp;as&nbsp;<span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">env1</span></span>.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;reflexivity.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;inversion&nbsp;Eq;&nbsp;subst.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;secondUsage_idem.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;&lt;-&nbsp;secondEnvironment_idem.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;-&nbsp;destruct&nbsp;env1&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">e1</span></span> <span class="inlinecode"><span class="id" title="var">env1</span></span>,&nbsp;env2&nbsp;as&nbsp;<span class="inlinecode">|<span class="id" title="var">e2</span></span> <span class="inlinecode"><span class="id" title="var">env2</span></span>;&nbsp;rewrite&nbsp;raw_insert_successor&nbsp;in&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;reflexivity.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;reflexivity.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;simpl&nbsp;in&nbsp;*.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;lookup_nil&nbsp;in&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Eq;&nbsp;simpl;&nbsp;f_equal.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;eapply&nbsp;IHx&nbsp;with&nbsp;(T&nbsp;:=&nbsp;T)&nbsp;(env2&nbsp;:=&nbsp;<span class="inlinecode"></span>).*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;simpl&nbsp;in&nbsp;*.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;lookup_zero&nbsp;in&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;Eq.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;e2;&nbsp;simpl&nbsp;in&nbsp;*.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;&lt;-&nbsp;secondUsage_idem.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f_equal;&nbsp;eapply&nbsp;IHx;&nbsp;reflexivity.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;f_equal;&nbsp;eapply&nbsp;IHx;&nbsp;reflexivity.*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*Qed.*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_insert_None" class="idref" href="#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:304" class="idref" href="#p:304"><span class="id" title="binder">p</span></a> <a id="env:305" class="idref" href="#env:305"><span class="id" title="binder">env</span></a> <a id="t1:306" class="idref" href="#t1:306"><span class="id" title="binder">t1</span></a> <a id="v:307" class="idref" href="#v:307"><span class="id" title="binder">v</span></a> <a id="x:308" class="idref" href="#x:308"><span class="id" title="binder">x</span></a> <a id="T:309" class="idref" href="#T:309"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:304"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:305"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#t1:306"><span class="id" title="variable">t1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:309"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:304"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:305"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:307"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t1:306"><span class="id" title="variable">t1</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:309"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">env</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm_ind3"><span class="id" title="definition">WellTypedTerm_ind3</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P0</span> := <span class="id" title="keyword">fun</span> <a id="env:310" class="idref" href="#env:310"><span class="id" title="binder"><span id="env:326" class="id">env</span></span></a> <a id="gs:311" class="idref" href="#gs:311"><span class="id" title="binder"><span id="gs:327" class="id">gs</span></span></a> <a id="T:312" class="idref" href="#T:312"><span class="id" title="binder"><span id="T:328" class="id">T</span></span></a> <a id="E:313" class="idref" href="#E:313"><span class="id" title="binder"><span id="E:329" class="id">E</span></span></a> (<a id="WG:314" class="idref" href="#WG:314"><span class="id" title="binder"><span id="WG:330" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:310"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Substitution.html#gs:311"><span class="id" title="variable">gs</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:312"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:313"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:315" class="idref" href="#v:315"><span class="id" title="binder"><span id="v:331" class="id">v</span></span></a> <a id="x:316" class="idref" href="#x:316"><span class="id" title="binder"><span id="x:332" class="id">x</span></span></a> <a id="env':317" class="idref" href="#env':317"><span class="id" title="binder"><span id="env':333" class="id">env'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env:310"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:316"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env':317"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env':317"><span class="id" title="variable">env'</span></a> (<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:315"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:316"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#gs:311"><span class="id" title="variable">gs</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:312"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:313"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P1</span> := <span class="id" title="keyword">fun</span> <a id="env:318" class="idref" href="#env:318"><span class="id" title="binder"><span id="env:334" class="id">env</span></span></a> <a id="g:319" class="idref" href="#g:319"><span class="id" title="binder"><span id="g:335" class="id">g</span></span></a> <a id="T:320" class="idref" href="#T:320"><span class="id" title="binder"><span id="T:336" class="id">T</span></span></a> <a id="E:321" class="idref" href="#E:321"><span class="id" title="binder"><span id="E:337" class="id">E</span></span></a> (<a id="WG:322" class="idref" href="#WG:322"><span class="id" title="binder"><span id="WG:338" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:318"><span class="id" title="variable">env</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:319"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:320"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:321"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:323" class="idref" href="#v:323"><span class="id" title="binder"><span id="v:339" class="id">v</span></span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder"><span id="x:340" class="id">x</span></span></a> <a id="env':325" class="idref" href="#env':325"><span class="id" title="binder"><span id="env':341" class="id">env'</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env:318"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env':325"><span class="id" title="variable">env'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env':325"><span class="id" title="variable">env'</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:323"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:319"><span class="id" title="variable">g</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:320"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:321"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#EmptyEnv_raw_insert_None"><span class="id" title="lemma">EmptyEnv_raw_insert_None</span></a>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_TValue_None"><span class="id" title="lemma">subst_insert_TValue_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#APP"><span class="id" title="constructor">APP</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">_</span> <span class="id" title="var">v0</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_lift_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TLet"><span class="id" title="lemma">subst_TLet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_raw_insert_None"><span class="id" title="lemma">EnvironmentCombination_raw_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Eq1</span> [<span class="id" title="var">Eq2</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> <span class="id" title="var">Comb'</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">env2'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TSpawn"><span class="id" title="lemma">subst_TSpawn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#secondEnvironment_raw_insert_None"><span class="id" title="lemma">secondEnvironment_raw_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HeqE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Eq</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#secondEnvironment_raw_insert_None_inv"><span class="id" title="lemma">secondEnvironment_raw_insert_None_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HeqE</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Eq1'</span> <span class="id" title="var">Eq2'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SPAWN"><span class="id" title="constructor">SPAWN</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_raw_insert_None"><span class="id" title="lemma">EnvironmentDis_raw_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Eq1</span> [<span class="id" title="var">Eq2</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> <span class="id" title="var">Comb'</span>]]]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TSend"><span class="id" title="lemma">subst_TSend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SEND"><span class="id" title="constructor">SEND</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT1</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT2</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_raw_insert_None"><span class="id" title="lemma">EnvironmentDis_raw_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Eq1</span> [<span class="id" title="var">Eq2</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> <span class="id" title="var">Comb'</span>]]]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#GUARD"><span class="id" title="constructor">GUARD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">env2'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">x</span> <span class="id" title="var">v0</span> <span class="id" title="var">env1'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="var">simpl_subst_goal</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT0</span> <span class="id" title="var">v0</span> <span class="id" title="var">x</span> <span class="id" title="var">env2'</span>); <span class="id" title="var">simpl_subst_goal</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_raw_insert_None"><span class="id" title="lemma">EnvironmentSubtype_raw_insert_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">Eq</span> <span class="id" title="var">Sub</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">env'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_GReceive"><span class="id" title="lemma">subst_GReceive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#RECEIVE"><span class="id" title="constructor">RECEIVE</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#BaseEnv_raw_insert_None_inv"><span class="id" title="lemma">BaseEnv_raw_insert_None_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_Guard_insert_None" class="idref" href="#subst_Guard_insert_None"><span class="id" title="lemma">subst_Guard_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:342" class="idref" href="#p:342"><span class="id" title="binder">p</span></a> <a id="env:343" class="idref" href="#env:343"><span class="id" title="binder">env</span></a> <a id="g:344" class="idref" href="#g:344"><span class="id" title="binder">g</span></a> <a id="v:345" class="idref" href="#v:345"><span class="id" title="binder">v</span></a> <a id="x:346" class="idref" href="#x:346"><span class="id" title="binder">x</span></a> <a id="T:347" class="idref" href="#T:347"><span class="id" title="binder">T</span></a> <a id="f:348" class="idref" href="#f:348"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:342"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:346"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:343"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#g:344"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:347"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:348"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:342"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:343"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:345"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:346"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:344"><span class="id" title="variable">g</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:347"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:348"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">env</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_GReceive"><span class="id" title="lemma">subst_GReceive</span></a>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#BaseEnv_raw_insert_None_inv"><span class="id" title="lemma">BaseEnv_raw_insert_None_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> 0 (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <span class="id" title="var">e</span> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>) (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env0</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> (1 <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> 0 (<a class="idref" href="MailboxTypes.Types.html#65fe139398fbcf205794e24a8b220bcc"><span class="id" title="notation">?</span></a> <span class="id" title="var">e</span> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#d6e23384ae5ab5f4c7aff284d56ce436"><span class="id" title="notation"></span></a>) <span class="id" title="var">env0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift"><span class="id" title="method">lift</span></a> 2 0 <span class="id" title="var">v</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_Guards_insert_None" class="idref" href="#subst_Guards_insert_None"><span class="id" title="lemma">subst_Guards_insert_None</span></a> : <span class="id" title="keyword">forall</span> <a id="p:349" class="idref" href="#p:349"><span class="id" title="binder">p</span></a> <a id="env:350" class="idref" href="#env:350"><span class="id" title="binder">env</span></a> <a id="gs:351" class="idref" href="#gs:351"><span class="id" title="binder">gs</span></a> <a id="v:352" class="idref" href="#v:352"><span class="id" title="binder">v</span></a> <a id="x:353" class="idref" href="#x:353"><span class="id" title="binder">x</span></a> <a id="T:354" class="idref" href="#T:354"><span class="id" title="binder">T</span></a> <a id="f:355" class="idref" href="#f:355"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:349"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:353"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:350"><span class="id" title="variable">env</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#gs:351"><span class="id" title="variable">gs</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:354"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:355"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:349"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:350"><span class="id" title="variable">env</span></a> (<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:352"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:353"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#gs:351"><span class="id" title="variable">gs</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:354"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#f:355"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">env</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_Guard_insert_None"><span class="id" title="lemma">subst_Guard_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_Guard_insert_None"><span class="id" title="lemma">subst_Guard_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHWT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_lemma_TValue" class="idref" href="#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> : <span class="id" title="keyword">forall</span> <a id="p:356" class="idref" href="#p:356"><span class="id" title="binder">p</span></a> <a id="env1:357" class="idref" href="#env1:357"><span class="id" title="binder">env1</span></a> <a id="env2:358" class="idref" href="#env2:358"><span class="id" title="binder">env2</span></a> <a id="env:359" class="idref" href="#env:359"><span class="id" title="binder">env</span></a> <a id="A:360" class="idref" href="#A:360"><span class="id" title="binder">A</span></a> <a id="A':361" class="idref" href="#A':361"><span class="id" title="binder">A'</span></a> <a id="B:362" class="idref" href="#B:362"><span class="id" title="binder">B</span></a> <a id="v1:363" class="idref" href="#v1:363"><span class="id" title="binder">v1</span></a> <a id="v2:364" class="idref" href="#v2:364"><span class="id" title="binder">v2</span></a> <a id="x:365" class="idref" href="#x:365"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:356"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:365"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:360"><span class="id" title="variable">A</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:357"><span class="id" title="variable">env1</span></a>) (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:363"><span class="id" title="variable">v1</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#B:362"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:356"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:358"><span class="id" title="variable">env2</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:364"><span class="id" title="variable">v2</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#A':361"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#A':361"><span class="id" title="variable">A'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:360"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1:357"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:358"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:359"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:356"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:359"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v2:364"><span class="id" title="variable">v2</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:365"><span class="id" title="variable">x</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v1:363"><span class="id" title="variable">v1</span></a>)) <a class="idref" href="MailboxTypes.Substitution.html#B:362"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">V1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <span class="id" title="var">v2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">V2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">env</span> <span class="id" title="var">env1</span> <span class="id" title="var">env2</span> <span class="id" title="var">HeqE1</span> <span class="id" title="var">HeqV1</span> <span class="id" title="var">HeqV2</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT1</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv_injective"><span class="id" title="lemma">insert_EmptyEnv_injective</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">HeqE1</span> <span class="id" title="keyword">as</span> [-&gt; [-&gt; <span class="id" title="var">Empty</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqV1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#lift_zero"><span class="id" title="method">lift_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_EmptyEnv_left"><span class="id" title="lemma">EnvDis_EmptyEnv_left</span></a> <span class="id" title="var">env1</span> <span class="id" title="var">env2</span> <span class="id" title="var">env0</span> <span class="id" title="var">Empty</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv"><span class="id" title="lemma">insert_EmptyEnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv"><span class="id" title="lemma">insert_EmptyEnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv"><span class="id" title="lemma">insert_EmptyEnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_inv"><span class="id" title="lemma">EnvironmentSubtype_insert_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Sub'</span> [<span class="id" title="var">EnvSub'</span> [[<span class="id" title="var">Eq</span> <span class="id" title="var">Un</span>] | <span class="id" title="var">Eq</span>]]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_TValue_None"><span class="id" title="lemma">subst_insert_TValue_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v2</span> := <span class="id" title="var">v2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_Un"><span class="id" title="lemma">WellTypedTerm_TValue_Un</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">WT2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">Empty''</span> <span class="id" title="var">EnvSub''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_Sub"><span class="id" title="lemma">EnvDis_Sub</span></a> <span class="id" title="var">env0</span> <span class="id" title="var">env3</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env''</span> <span class="id" title="var">env</span> <span class="id" title="var">EnvSub'</span> <span class="id" title="var">EnvSub''</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envE</span> [<span class="id" title="var">SubE</span> <span class="id" title="var">DisE</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_EmptyEnv_right"><span class="id" title="lemma">EnvDis_EmptyEnv_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Empty''</span> <span class="id" title="var">DisE</span>); <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span> := <span class="id" title="var">A</span>); <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_Sub"><span class="id" title="lemma">EnvDis_Sub</span></a> <span class="id" title="var">env0</span> <span class="id" title="var">env3</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env3</span> <span class="id" title="var">env</span> <span class="id" title="var">EnvSub'</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_refl"><span class="id" title="lemma">EnvironmentSubtype_refl</span></a> <span class="id" title="var">env3</span>) <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">EnvSub''</span> <span class="id" title="var">Dis''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="asdfwe" class="idref" href="#asdfwe"><span class="id" title="lemma">asdfwe</span></a> : <span class="id" title="keyword">forall</span> <a id="T1:366" class="idref" href="#T1:366"><span class="id" title="binder">T1</span></a> <a id="T2:367" class="idref" href="#T2:367"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Types.html#d95d6dcac2e02333213ccce92307e62e"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#T1:366"><span class="id" title="variable">T1</span></a> <a class="idref" href="MailboxTypes.Types.html#d95d6dcac2e02333213ccce92307e62e"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T2:367"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="BT:368" class="idref" href="#BT:368"><span class="id" title="binder">BT</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T2:367"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <a class="idref" href="MailboxTypes.Substitution.html#BT:368"><span class="id" title="variable">BT</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="E:369" class="idref" href="#E:369"><span class="id" title="binder">E</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T2:367"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Substitution.html#E:369"><span class="id" title="variable">E</span></a> <a class="idref" href="MailboxTypes.Types.html#f39513b867322bb5ca4ed2da3ef6a4a4"><span class="id" title="notation">^^</span></a> <a class="idref" href="MailboxTypes.Types.html#efa4560199ee1b7c75ae12ae2c5e67b8"><span class="id" title="notation"></span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Eq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">T1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_lemma" class="idref" href="#subst_lemma"><span class="id" title="lemma">subst_lemma</span></a> : <span class="id" title="keyword">forall</span> <a id="p:370" class="idref" href="#p:370"><span class="id" title="binder">p</span></a> <a id="env1:371" class="idref" href="#env1:371"><span class="id" title="binder">env1</span></a> <a id="env2:372" class="idref" href="#env2:372"><span class="id" title="binder">env2</span></a> <a id="env:373" class="idref" href="#env:373"><span class="id" title="binder">env</span></a> <a id="A:374" class="idref" href="#A:374"><span class="id" title="binder">A</span></a> <a id="A':375" class="idref" href="#A':375"><span class="id" title="binder">A'</span></a> <a id="B:376" class="idref" href="#B:376"><span class="id" title="binder">B</span></a> <a id="t:377" class="idref" href="#t:377"><span class="id" title="binder">t</span></a> <a id="v:378" class="idref" href="#v:378"><span class="id" title="binder">v</span></a> <a id="x:379" class="idref" href="#x:379"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:370"><span class="id" title="variable">p</span></a> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:379"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:374"><span class="id" title="variable">A</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1:371"><span class="id" title="variable">env1</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#t:377"><span class="id" title="variable">t</span></a> <a class="idref" href="MailboxTypes.Substitution.html#B:376"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:370"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:372"><span class="id" title="variable">env2</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:378"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#A':375"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#A':375"><span class="id" title="variable">A'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:374"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1:371"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:372"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:373"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <a class="idref" href="MailboxTypes.Substitution.html#p:370"><span class="id" title="variable">p</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:373"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:378"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:379"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#t:377"><span class="id" title="variable">t</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#B:376"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">env1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">env</span> <span class="id" title="var">env1</span> <span class="id" title="var">env2</span> <span class="id" title="var">HeqE1</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT1</span> <span class="id" title="keyword">using</span> @<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm_ind3"><span class="id" title="definition">WellTypedTerm_ind3</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P0</span> := <span class="id" title="keyword">fun</span> <a id="env1:380" class="idref" href="#env1:380"><span class="id" title="binder"><span id="env1:404" class="id">env1</span></span></a> <a id="gs:381" class="idref" href="#gs:381"><span class="id" title="binder"><span id="gs:405" class="id">gs</span></span></a> <a id="T:382" class="idref" href="#T:382"><span class="id" title="binder"><span id="T:406" class="id">T</span></span></a> <a id="E:383" class="idref" href="#E:383"><span class="id" title="binder"><span id="E:407" class="id">E</span></span></a> (<a id="WG:384" class="idref" href="#WG:384"><span class="id" title="binder"><span id="WG:408" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env1:380"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#gs:381"><span class="id" title="variable">gs</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:382"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:383"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:385" class="idref" href="#v:385"><span class="id" title="binder"><span id="v:409" class="id">v</span></span></a> <a id="x:386" class="idref" href="#x:386"><span class="id" title="binder"><span id="x:410" class="id">x</span></span></a> <a id="A:387" class="idref" href="#A:387"><span class="id" title="binder"><span id="A:411" class="id">A</span></span></a> <a id="A':388" class="idref" href="#A':388"><span class="id" title="binder"><span id="A':412" class="id">A'</span></span></a> <a id="env1':389" class="idref" href="#env1':389"><span class="id" title="binder"><span id="env1':413" class="id">env1'</span></span></a> <a id="env2:390" class="idref" href="#env2:390"><span class="id" title="binder"><span id="env2:414" class="id">env2</span></span></a> <a id="env:391" class="idref" href="#env:391"><span class="id" title="binder"><span id="env:415" class="id">env</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1:380"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:386"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:387"><span class="id" title="variable">A</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1':389"><span class="id" title="variable">env1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env2:390"><span class="id" title="variable">env2</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:385"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#A':388"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#A':388"><span class="id" title="variable">A'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:387"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1':389"><span class="id" title="variable">env1'</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:390"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:391"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuards"><span class="id" title="inductive">WellTypedGuards</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:391"><span class="id" title="variable">env</span></a> (<span class="id" title="abbreviation">List.map</span> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:385"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:386"><span class="id" title="variable">x</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#gs:381"><span class="id" title="variable">gs</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:382"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:383"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P1</span> := <span class="id" title="keyword">fun</span> <a id="env1:392" class="idref" href="#env1:392"><span class="id" title="binder"><span id="env1:416" class="id">env1</span></span></a> <a id="g:393" class="idref" href="#g:393"><span class="id" title="binder"><span id="g:417" class="id">g</span></span></a> <a id="T:394" class="idref" href="#T:394"><span class="id" title="binder"><span id="T:418" class="id">T</span></span></a> <a id="E:395" class="idref" href="#E:395"><span class="id" title="binder"><span id="E:419" class="id">E</span></span></a> (<a id="WG:396" class="idref" href="#WG:396"><span class="id" title="binder"><span id="WG:420" class="id">WG</span></span></a> : <a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env1:392"><span class="id" title="variable">env1</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:393"><span class="id" title="variable">g</span></a> <a class="idref" href="MailboxTypes.Substitution.html#T:394"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:395"><span class="id" title="variable">E</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:397" class="idref" href="#v:397"><span class="id" title="binder"><span id="v:421" class="id">v</span></span></a> <a id="x:398" class="idref" href="#x:398"><span class="id" title="binder"><span id="x:422" class="id">x</span></span></a> <a id="A:399" class="idref" href="#A:399"><span class="id" title="binder"><span id="A:423" class="id">A</span></span></a> <a id="A':400" class="idref" href="#A':400"><span class="id" title="binder"><span id="A':424" class="id">A'</span></span></a> <a id="env1':401" class="idref" href="#env1':401"><span class="id" title="binder"><span id="env1':425" class="id">env1'</span></span></a> <a id="env2:402" class="idref" href="#env2:402"><span class="id" title="binder"><span id="env2:426" class="id">env2</span></span></a> <a id="env:403" class="idref" href="#env:403"><span class="id" title="binder"><span id="env:427" class="id">env</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1:392"><span class="id" title="variable">env1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:398"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:399"><span class="id" title="variable">A</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env1':401"><span class="id" title="variable">env1'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedTerm"><span class="id" title="inductive">WellTypedTerm</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env2:402"><span class="id" title="variable">env2</span></a> (<a class="idref" href="MailboxTypes.Syntax.html#TValue"><span class="id" title="constructor">TValue</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:397"><span class="id" title="variable">v</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#A':400"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#A':400"><span class="id" title="variable">A'</span></a> <a class="idref" href="MailboxTypes.Types.html#131af33f01ef889df697fc663d016c9f"><span class="id" title="notation"></span></a> <a class="idref" href="MailboxTypes.Substitution.html#A:399"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.Substitution.html#env1':401"><span class="id" title="variable">env1'</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">+</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env2:402"><span class="id" title="variable">env2</span></a> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">~=</span></a> <a class="idref" href="MailboxTypes.Substitution.html#env:403"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MailboxTypes.TypingRules.html#WellTypedGuard"><span class="id" title="inductive">WellTypedGuard</span></a> <span class="id" title="var">p</span> <a class="idref" href="MailboxTypes.Substitution.html#env:403"><span class="id" title="variable">env</span></a> (<a class="idref" href="MailboxTypes.Dblib.DeBruijn.html#subst"><span class="id" title="method">subst</span></a> <a class="idref" href="MailboxTypes.Substitution.html#v:397"><span class="id" title="variable">v</span></a> <a class="idref" href="MailboxTypes.Substitution.html#x:398"><span class="id" title="variable">x</span></a> <a class="idref" href="MailboxTypes.Substitution.html#g:393"><span class="id" title="variable">g</span></a>) <a class="idref" href="MailboxTypes.Substitution.html#T:394"><span class="id" title="variable">T</span></a> <a class="idref" href="MailboxTypes.Substitution.html#E:395"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv"><span class="id" title="lemma">insert_EmptyEnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#insert_EmptyEnv_injective"><span class="id" title="lemma">insert_EmptyEnv_injective</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">HeqE1</span> <span class="id" title="keyword">as</span> [-&gt; [-&gt; <span class="id" title="var">Empty</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#APP"><span class="id" title="constructor">APP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TLet"><span class="id" title="lemma">subst_TLet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_insert"><span class="id" title="lemma">EnvironmentCombination_insert</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> [<span class="id" title="var">Comb2</span> [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [<span class="id" title="var">A1</span> [<span class="id" title="var">A2</span> [<span class="id" title="var">Eq1</span> [<span class="id" title="var">Eq2</span> <span class="id" title="var">TComb</span>]]]]]]]]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;is&nbsp;in&nbsp;the&nbsp;left&nbsp;term&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb"><span class="id" title="lemma">EnvironmentDis_Comb</span></a> <span class="id" title="var">env4</span> <span class="id" title="var">env1'</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env3</span> <span class="id" title="var">env0</span> <span class="id" title="var">H0</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">CombT</span> <span class="id" title="var">DisT</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">envT</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;is&nbsp;in&nbsp;the&nbsp;right&nbsp;term&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_rev"><span class="id" title="lemma">EnvironmentDis_Comb_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">CombT</span> <span class="id" title="var">DisT</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">envT</span>) (<span class="id" title="var">T1</span> := <span class="id" title="var">T1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_raw_insert_None"><span class="id" title="lemma">WellTypedTerm_TValue_raw_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := 0) <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Eq</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">env2'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2'</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DisE</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2'</span> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env4</span> <a class="idref" href="MailboxTypes.Environment.html#47f92b61fc5202dedf3649e479db00ed"><span class="id" title="notation">~=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">envT</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;is&nbsp;in&nbsp;both&nbsp;terms&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_rev"><span class="id" title="lemma">EnvironmentDis_Comb_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT2</span> [<span class="id" title="var">CombT2</span> <span class="id" title="var">DisT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb"><span class="id" title="lemma">EnvironmentDis_Comb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT1</span> [<span class="id" title="var">CombT1</span> <span class="id" title="var">DisT1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> (<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#canonical_form_BTBool"><span class="id" title="lemma">canonical_form_BTBool</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#weak_BTBool_2"><span class="id" title="lemma">weak_BTBool_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">TComb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Subtype_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Subtype_Empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a> <span class="id" title="var">env4</span>) <span class="id" title="var">WT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Sub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <a class="idref" href="MailboxTypes.Types.html#BTBool"><span class="id" title="constructor">BTBool</span></a>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Empty</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <a class="idref" href="MailboxTypes.Types.html#BTBool"><span class="id" title="constructor">BTBool</span></a>) (<span class="id" title="var">env2</span> := (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2'</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Empty</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> (<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.TypingRules.html#canonical_form_BTUnit"><span class="id" title="lemma">canonical_form_BTUnit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#weak_BTUnit_2"><span class="id" title="lemma">weak_BTUnit_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">TComb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Subtype_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Subtype_Empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a> <span class="id" title="var">env4</span>) <span class="id" title="var">WT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Sub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <a class="idref" href="MailboxTypes.Types.html#BTUnit"><span class="id" title="constructor">BTUnit</span></a>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Empty</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <a class="idref" href="MailboxTypes.Types.html#BTUnit"><span class="id" title="constructor">BTUnit</span></a>) (<span class="id" title="var">env2</span> := (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2'</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Empty"><span class="id" title="lemma">EnvironmentDisjointCombination_Empty</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> (<span class="id" title="var">simpl_lift_goal</span>; <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#weak_ValueVar_3"><span class="id" title="lemma">weak_ValueVar_3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WT2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env4'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Eq'</span> [<span class="id" title="var">Sub</span> [<span class="id" title="var">SubEnv</span> <span class="id" title="var">WT2</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_left"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_left</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env3'</span> [<span class="id" title="var">env0'</span> [[-&gt; -&gt;] | [<span class="id" title="var">c</span> [-&gt; [-&gt; -&gt;]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Subtype_Empty_insert"><span class="id" title="lemma">EnvironmentDisjointCombination_Subtype_Empty_insert</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env4'</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a> <span class="id" title="var">env4'</span>) <span class="id" title="var">SubEnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Sub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A</span> <span class="id" title="var">env3'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_trans"><span class="id" title="lemma">EnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_Subtype"><span class="id" title="lemma">EnvironmentSubtype_insert_Subtype</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_raw_insert_None"><span class="id" title="lemma">EnvironmentCombination_raw_insert_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1''</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Eq1</span> [? [<span class="id" title="var">Eq2</span> [? <span class="id" title="var">Comb'</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A1</span> <span class="id" title="var">env1''</span>) (<span class="id" title="var">env2</span> := (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A2</span> <span class="id" title="var">env2''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_insert_both"><span class="id" title="lemma">EnvironmentCombination_insert_both</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <span class="id" title="var">A1</span>) (<span class="id" title="var">A'</span> := <span class="id" title="var">A1</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A1</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_EmptyEnv"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_EmptyEnv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <span class="id" title="var">A2</span>) (<span class="id" title="var">A'</span> := <span class="id" title="var">A2</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">A2</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2''</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_EmptyEnv"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_EmptyEnv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_Subtype_Empty_insert_Base"><span class="id" title="lemma">EnvironmentDisjointCombination_Subtype_Empty_insert_Base</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env4'</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a> <span class="id" title="var">env4'</span>) <span class="id" title="var">SubEnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Sub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> <span class="id" title="var">A</span> <span class="id" title="var">env3'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_trans"><span class="id" title="lemma">EnvironmentSubtype_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_Subtype"><span class="id" title="lemma">EnvironmentSubtype_insert_Subtype</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">TComb</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_raw_insert_Base"><span class="id" title="lemma">EnvironmentCombination_raw_insert_Base</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Comb2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1''</span> [<span class="id" title="var">env2''</span> [<span class="id" title="var">Comb'</span> [[-&gt; -&gt;] | [[-&gt; -&gt;] | [-&gt; -&gt;]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env1''</span>) (<span class="id" title="var">env2</span> := (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env2''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_insert_both"><span class="id" title="lemma">EnvironmentCombination_insert_both</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_Base"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_Base</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2''</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert"><span class="id" title="definition">raw_insert</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">env2''</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_EmptyEnv"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_EmptyEnv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env1''</span>) (<span class="id" title="var">env2</span> := (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env2''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_insert_both"><span class="id" title="lemma">EnvironmentCombination_insert_both</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_EmptyEnv"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_EmptyEnv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2''</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env2''</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_Base"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_Base</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#LET"><span class="id" title="constructor">LET</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env1''</span>) (<span class="id" title="var">env2</span> := (<a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env2''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentCombination_insert_both"><span class="id" title="lemma">EnvironmentCombination_insert_both</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env1''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_Base"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_Base</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1_2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">A</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">A'</span> := <a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<span class="id" title="var">env2</span> := <a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv"><span class="id" title="definition">create_EmptyEnv</span></a> <span class="id" title="var">env2''</span>)) (<span class="id" title="var">env1</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <span class="id" title="var">T1</span> <a class="idref" href="MailboxTypes.Types.html#641f176fd2291a0b7a46cb75f37bb2e7"><span class="id" title="notation"></span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MailboxTypes.Dblib.Environments.html#insert"><span class="id" title="abbreviation">insert</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MailboxTypes.Types.html#TUBase"><span class="id" title="constructor">TUBase</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">env2''</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#create_EmptyEnv_EmptyEnv"><span class="id" title="lemma">create_EmptyEnv_EmptyEnv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_refl"><span class="id" title="lemma">Subtype_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_successor"><span class="id" title="lemma">raw_insert_successor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Environment.html#lookup_zero"><span class="id" title="lemma">lookup_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisjointCombination_insert_Base"><span class="id" title="lemma">EnvironmentDisjointCombination_insert_Base</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TSpawn"><span class="id" title="lemma">subst_TSpawn</span></a>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*generalize&nbsp;(secondEnvironment_insert&nbsp;x&nbsp;A&nbsp;env&nbsp;env1&nbsp;HeqE1).*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*intros&nbsp;<span class="inlinecode"><span class="id" title="var">Eq1</span></span> <span class="inlinecode"><span class="id" title="var">Eq2</span></span>.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*rewrite&nbsp;Eq1&nbsp;in&nbsp;*.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*apply&nbsp;secondEnvironment_insert_inv&nbsp;in&nbsp;HeqE1.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*destruct&nbsp;HeqE1&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">env2'</span></span> <span class="inlinecode">[<span class="id" title="var">T'</span></span> <span class="inlinecode">[<span class="id" title="var">Eq3</span></span> <span class="inlinecode">[<span class="id" title="var">Sub'</span></span> <span class="inlinecode"><span class="id" title="var">Eq4</span>]]]</span>.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(exists&nbsp;env0',&nbsp;env2'&nbsp;+&nbsp;env2&nbsp;~=&nbsp;env0')&nbsp;by&nbsp;admit.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*destruct&nbsp;H1&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">env0'</span></span> <span class="inlinecode"><span class="id" title="var">Comb'</span></span>.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*eapply&nbsp;SPAWN;&nbsp;auto.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*+&nbsp;eapply&nbsp;IHWT1.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eapply&nbsp;Subtype_trans;&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;rewrite&nbsp;&lt;-&nbsp;Eq4&nbsp;in&nbsp;H0.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;Comb'.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*+&nbsp;admit.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(**)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*eapply&nbsp;SPAWN;&nbsp;auto.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(exists&nbsp;env'&nbsp;T,&nbsp;env&nbsp;=&nbsp;insert&nbsp;x&nbsp;T&nbsp;&nbsp;env'&nbsp;)&nbsp;by&nbsp;admit.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*destruct&nbsp;H1&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">env'</span></span> <span class="inlinecode">[<span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">Eq</span>]</span>.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*assert&nbsp;(A&nbsp;&nbsp;T)&nbsp;by&nbsp;admit.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*econstructor.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*+&nbsp;eapply&nbsp;IHWT1.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;eapply&nbsp;Subtype_trans;&nbsp;eassumption.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;*&nbsp;admit.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*+&nbsp;admit.*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TSend"><span class="id" title="lemma">subst_TSend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisCombination_insert"><span class="id" title="lemma">EnvironmentDisCombination_insert</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> [<span class="id" title="var">Dis'</span> [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [<span class="id" title="var">BT</span> [<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>]]]]]]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;the&nbsp;left&nbsp;term&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc"><span class="id" title="lemma">EnvironmentDis_assoc</span></a> <span class="id" title="var">env4</span> <span class="id" title="var">env1'</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env3</span> <span class="id" title="var">env0</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">DisT1</span> <span class="id" title="var">DisT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SEND"><span class="id" title="constructor">SEND</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">envT</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1_1</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WT1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">WT1_2</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;the&nbsp;right&nbsp;term&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc_rev"><span class="id" title="lemma">EnvironmentDis_assoc_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">DisT1</span> <span class="id" title="var">DisT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SEND"><span class="id" title="constructor">SEND</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">envT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WT1_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">WT1_1</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1_2</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;the&nbsp;both&nbsp;terms&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisCombination_insert_Type_eq"><span class="id" title="lemma">EnvironmentDisCombination_insert_Type_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc_rev"><span class="id" title="lemma">EnvironmentDis_assoc_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT2</span> [<span class="id" title="var">DisT1_2</span> <span class="id" title="var">DisT2_2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc"><span class="id" title="lemma">EnvironmentDis_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT1</span> [<span class="id" title="var">DisT1_1</span> <span class="id" title="var">DisT2_1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SEND"><span class="id" title="constructor">SEND</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">envT1</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">envT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1_1</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2_1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;This&nbsp;holds&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1_2</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2_2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_TGuard"><span class="id" title="lemma">subst_TGuard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisCombination_insert"><span class="id" title="lemma">EnvironmentDisCombination_insert</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env1'</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">L1</span> [<span class="id" title="var">L2</span> [<span class="id" title="var">Dis'</span> [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [[<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>] | [<span class="id" title="var">BT</span> [<span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>]]]]]]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;left&nbsp;environment&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc"><span class="id" title="lemma">EnvironmentDis_assoc</span></a> <span class="id" title="var">env4</span> <span class="id" title="var">env1'</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env3</span> <span class="id" title="var">env0</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">DisT1</span> <span class="id" title="var">DisT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#GUARD"><span class="id" title="constructor">GUARD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">envT</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">env2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_Guards_insert_None"><span class="id" title="lemma">subst_Guards_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;right&nbsp;environment&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc_rev"><span class="id" title="lemma">EnvironmentDis_assoc_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT</span> [<span class="id" title="var">DisT1</span> <span class="id" title="var">DisT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#GUARD"><span class="id" title="constructor">GUARD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">env1'</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">envT</span>) (<span class="id" title="var">f</span> := <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">WT1</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;in&nbsp;the&nbsp;both&nbsp;terms&nbsp;and&nbsp;is&nbsp;a&nbsp;base&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDisCombination_insert_Type_eq"><span class="id" title="lemma">EnvironmentDisCombination_insert_Type_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc_rev"><span class="id" title="lemma">EnvironmentDis_assoc_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT2</span> [<span class="id" title="var">DisT1_2</span> <span class="id" title="var">DisT2_2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_assoc"><span class="id" title="lemma">EnvironmentDis_assoc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">Dis'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envT1</span> [<span class="id" title="var">DisT1_1</span> <span class="id" title="var">DisT2_1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#GUARD"><span class="id" title="constructor">GUARD</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">env1</span> := <span class="id" title="var">envT1</span>) (<span class="id" title="var">env2</span> := <span class="id" title="var">envT2</span>) (<span class="id" title="var">f</span> := <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Substitution.html#subst_lemma_TValue"><span class="id" title="lemma">subst_lemma_TValue</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">envT1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">WT1</span> <span class="id" title="var">WT2</span> <span class="id" title="var">H</span> <span class="id" title="var">DisT2_1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentDis_Comb_comm"><span class="id" title="lemma">EnvironmentDis_Comb_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">DisT2_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_insert_inv"><span class="id" title="lemma">EnvironmentSubtype_insert_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env2'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Sub'</span> [<span class="id" title="var">EnvSub'</span> [[<span class="id" title="var">Eq</span> <span class="id" title="var">Un</span>] | <span class="id" title="var">Eq</span>]]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_insert_None"><span class="id" title="lemma">subst_insert_None</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Substitution.html#WellTypedTerm_TValue_Un"><span class="id" title="lemma">WellTypedTerm_TValue_Un</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">WT2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">Empty''</span> <span class="id" title="var">EnvSub''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_Sub"><span class="id" title="lemma">EnvDis_Sub</span></a> <span class="id" title="var">env0</span> <span class="id" title="var">env3</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env''</span> <span class="id" title="var">env</span> <span class="id" title="var">EnvSub'</span> <span class="id" title="var">EnvSub''</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">envE</span> [<span class="id" title="var">SubE</span> <span class="id" title="var">DisE</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_EmptyEnv_right"><span class="id" title="lemma">EnvDis_EmptyEnv_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Empty''</span> <span class="id" title="var">DisE</span>); <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span> := <span class="id" title="var">A</span>); <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvDis_Sub"><span class="id" title="lemma">EnvDis_Sub</span></a> <span class="id" title="var">env0</span> <span class="id" title="var">env3</span> <span class="id" title="var">env2'</span> <span class="id" title="var">env3</span> <span class="id" title="var">env</span> <span class="id" title="var">EnvSub'</span> (<a class="idref" href="MailboxTypes.Environment.html#EnvironmentSubtype_refl"><span class="id" title="lemma">EnvironmentSubtype_refl</span></a> <span class="id" title="var">env3</span>) <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">env''</span> [<span class="id" title="var">EnvSub''</span> <span class="id" title="var">Dis''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SUB"><span class="id" title="constructor">SUB</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MailboxTypes.Types.html#Subtype_trans"><span class="id" title="lemma">Subtype_trans</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">environment</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SINGLE"><span class="id" title="constructor">SINGLE</span></a>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#SEQ"><span class="id" title="constructor">SEQ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHWT0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHWT1</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">env0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_subst_goal</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#FREE"><span class="id" title="constructor">FREE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">G</span>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_subst_goal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Substitution.html#subst_GReceive"><span class="id" title="lemma">subst_GReceive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MailboxTypes.TypingRules.html#RECEIVE"><span class="id" title="constructor">RECEIVE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;Need&nbsp;lemma&nbsp;about&nbsp;base&nbsp;env*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MailboxTypes.Dblib.Environments.html#raw_insert_zero"><span class="id" title="lemma">raw_insert_zero</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MailboxTypes.Substitution.html#subs_def"><span class="id" title="section">subs_def</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
